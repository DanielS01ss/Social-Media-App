{"version":3,"sources":["logo.svg","Endpoints/API_ENDPOINTS.js","images/login.jpg","Context/AppContext.js","Components/Login.js","images/loading-data.gif","Components/Loading.js","Components/Home.js","media/video.mp4","Components/Navbar.js","Components/SignUp.js","images/person.jpg","images/snicker.jpg","images/gift-box.png","images/dummy-post.jpg","utility-functions/utility-functions.js","images/loader.gif","Components/MainPage.js","Components/FeedNavbar.js","Components/Test.js","images/not-found.jpg","Components/PageNotFound.js","Components/Profile.js","images/user-bkg.jpg","images/people-socializing.jpg","images/people-group.jpg","Components/About.js","Components/ConversationBox.js","media/audio/notification.mp3","Components/Messages.js","Components/Questions.js","Components/Settings.js","Components/Success.js","Components/Search.js","App.js","reportWebVitals.js","index.js"],"names":["ADD_COMMENT","id","LIKE_POST","AppContext","createContext","Login","ContextApp","useContext","history","useHistory","useState","validEmail","setValidEmail","email","changeEmail","useRef","pass","setPass","passEmpty","setPassEmpty","validForm","setValidForm","wrongCredentials","setWrongCredentials","useEffect","className","method","onChange","inputVal","txt","target","value","test","validateEmail","type","name","placeholder","style","marginBottom","passVal","length","paddingTop","disabled","onClick","evt","console","log","preventDefault","axios","post","password","then","resp","status","token","refreshToken","d","Date","setTime","getTime","expires","toUTCString","document","cookie","setCookie","data","updateUser","user","updateToken","updateRefreshToken","setLoggedIn","fetchUserPosts","fetchFeedPosts","push","catch","err","response","alert","href","to","Loading","src","GIF_LOADING","Home","AppDataContext","Navbar","oldUsername","oldEmail","SignUp","emailVal","setEmailVal","setPassword","passwordMatch","setPasswordMatch","usernameExist","setUserNameExist","emailExists","setEmailExists","username","setUsername","repeatPass","setRepeatPass","has8Digits","setHas8Digits","upperCaseLetter","setUpperCaseLetter","lowerCaseLetter","setLowerCaseLetter","hasOneDigit","setHasOneDigit","hasSpecialChars","setHasSpecialChars","characterLength","RegExp","upperCaseLetterReg","lowerCaseLetterReg","hasOneDigitReg","hasOneSpecial","handleReq","e","a","reqBody","url","onSubmit","val","icon","faCheck","faTimes","marginTop","clearCookies","split","forEach","c","replace","isTokenExpired","now","jwt_decode","exp","getStoredTokens","includes","trim","useStyles","makeStyles","theme","root","margin","spacing","width","MainPage","classes","commentsContent","setCommentsContent","commentDisplay","setCommentDisplay","React","textRef","imgInput","imageUploaded","setImageUploaded","imageToUpload","setImageToUpload","postText","setPostText","postDisabled","setPostDisabled","postIsUploading","setPostIsUploading","postError","posts","setPosts","postLiked","setPostLiked","resFunc","setIsLoadingData","window","addEventListener","feedPosts","removeEventListener","myCommentData","likedPost","undefined","likes","find","ps","userId","_id","psId","faCommentDots","textDecoration","fontSize","color","profilePicture","alt","noValidate","autoComplete","TextField","label","multiline","rows","defaultValue","ref","text","hidden","accept","files","file","fileReader","URL","createObjectURL","FileReader","readAsDataURL","onload","ev","obj","coverPicture","result","current","click","faPhotoVideo","Button","variant","headers","description","postPicture","postObj","comments","desc","img","postHolder","oldArr","Loader","map","faThumbsUp","cursor","postId","likeVal","stateValue","newPosts","filter","handleLike","marginLeft","faComment","handleToggleComm","newCommentData","handleChangeCommentText","commentObj","comment","userPhoto","commToPost","unshift","handlePostCommentData","postComm","Add","Person","grow","flexGrow","menuButton","marginRight","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","AppContextData","handleMenuClose","textContent","handleNotificationsMenu","innerWidth","setRenderNotifications","renderNotifications","handleMessagesMenu","setRenderMessages","renderMessages","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","faUser","faCog","setTimeout","location","reload","faDoorOpen","setProfileImg","mobileMenuId","renderMobileMenu","IconButton","Badge","badgeContent","setOpen","toggleDrawer","handleDrawerAtResize","setIsLoading","notifications","renderHamMenu","setRenderHamMenu","searchInputData","setSearchInputData","globalSocket","on","pathname","AppBar","background","Toolbar","edge","Typography","noWrap","InputBase","input","inputProps","onKeyPress","code","flexDirection","faHome","faComments","faPlusSquare","faTrash","faUserFriends","PageNotFound","Image","_","require","Profile","personId","ContextAppData","displayUserInteract","setDisplayUserInteract","fetchedUser","setFetchedUser","fetchedUserPosts","setFetchedUserPosts","isUserFollowed","setIsUserFollowed","fetchPosts","commentData","commentsText","URLSearchParams","get","isFollowed","followers","us","fetched","fetchUser","isEmpty","faUserCheck","faUserPlus","faCommentAlt","foundPers","conversationsParteners","usr","fetch","body","JSON","stringify","createConversation","from","faCity","livesIn","faHeart","relationship","faGraduationCap","education","commentTextData","handleChangeCommInpVal","passData","handlePostComment","LoadingDataGif","About","People","Group","ConversationBox","props","myAppContext","messageField","msgToSend","setMsgToSend","setIsEmpty","isLoading","messages","msg","sender","content","divRef","el","sendMsg","emit","convInd","messageRecipient","msgData","conversationId","oldMessages","scrollIntoView","behavior","setMessages","faPaperPlane","Messages","socket","setSocket","mobileView","setMobileView","toggled","setToggled","currentConvIndex","setCurrentConvIndex","currentConvBtn","setCurrentConvBtn","cvIndex","setCvIndex","firstClicked","setFirstClicked","setMessageRecipient","useSound","notificationSound","volume","notificationBeep","myFunction","AppCtx","handlePersonsListToggle","mySocket","io","setGlobalSocket","emitted","mObj","conversations","index","cvInd","recipient","classList","remove","add","Authorization","cvId","handleConversationChange","faArrowLeft","Questions","faQuestionCircle","Settings","countryFrom","setCountryFrom","regionFrom","setRegionFrom","countryLives","setCountryLives","regionLives","setRegionLives","setDescription","coverPictureErr","setCoverPictureErr","profilePictureErr","setProfilePictureErr","successProfileImg","setSuccessProfileImg","successCoverImg","setSuccessCoverImg","repeatPassword","setRepeatPassword","passMatch","setPassMatch","profileImageUploaded","setProfileImageUploaded","coverImageUploaded","setCoverImageUploaded","coverImageObj","setCoverImageObj","profileImageObj","setProfileImageObj","usernameSuccess","setUsernameSuccess","passwordSuccess","setPasswordSuccess","descriptionSuccess","setDescriptionSuccess","fromSuccess","setFromSuccess","livesSuccess","setLivesSuccess","usernameEmpty","setUsernameEmpty","relationshipStatus","setRelationShipStatus","setEducation","relationshipStatusSuccess","setRelationshipStatusSuccess","educationSuccess","setEducationSuccess","hiddenCoverPhotoInput","hiddenProfilePhotoInput","coverPhotoImage","profilePhotoImage","usernameRef","handleUpdateReq","success","userUpdateURL","newUser","Object","keys","setUser","imageSize","createElement","promise","Promise","resolve","reject","naturalWidth","naturalHeight","onerror","handleCoverImageUpload","renderedData","imageDimensions","handleUploadImage","handleProfileImageUpload","Math","abs","handlePostData","parseInt","fromLocationFetched","livesInLocationFetched","faUserCog","faImages","maxLength","selectCountryFrom","country","selectRegionFrom","selectCountryLives","selectRegionLives","toString","Success","faUserLock","Search","params","dataIsLoading","setDataIsLoading","fetchedUsers","setFetchedUsers","toSearch","searchData","handleSearch","faSearch","UserRoutePages","exact","path","component","SearchRoute","AuthenticatedRoute","loggedIn","App","userPosts","setUserPosts","isLoadingPosts","setIsLoadingPosts","setFeedPosts","data_arr","array","randomIndex","currentIndex","floor","random","shuffle","refreshTokenFunc","newToken","cName","cValue","expDays","date","getUserAndSet","myToken","reloadDataAfterRefresh","tk","userObj","update","oldPosts","commentsData","resetData","beforeData","newData","newPost","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5e6b905.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const LOGIN_URL = 'http://localhost:8000/api/auth/login';\nconst SIGNUP_URL = 'http://localhost:8000/api/auth/register';\nconst DELETE_TOKEN_URL = \"http://localhost:8000/api/auth/logout\";\nconst CHECK_TOKEN_URL = \"http://localhost:8000/api/auth/checkToken\";\nconst GET_USER_URL = \"http://localhost:8000/api/auth/user\";\nconst UPDATE_USER = (userId)=>{ return `http://localhost:8000/api/user/${userId}/update`}\nconst REFRESH_TOKEN_URL = \"http://localhost:8000/api/auth/token\";\nconst FETCH_USER_URL = (userId)=>`http://localhost:8000/api/user/${userId}`\nconst POST = \"http://localhost:8000/api/posts/create\";\nconst ADD_COMMENT = (id)=>`http://localhost:8000/api/posts/${id}/comment`;\nconst LIKE_POST = (id)=>`http://localhost:8000/api/posts/${id}/like`;\nconst FOLLOW_USER = (id)=>`http://localhost:8000/api/user/${id}/follow`;\nconst UNFOLLOW_USER = (id)=>`http://localhost:8000/api/user/${id}/unfollow`;\nconst FEED_POSTS = `http://localhost:8000/api/posts/time/all`;\nconst SEARCH_USER = `http://localhost:8000/api/user/search_user`;\nconst CREATE_CONVERSATION = `http://localhost:8000/api/message/create_conversation`\nconst SOCKET_URL = \"http://localhost:8080\";\nconst GET_MESSAGES = \"http://localhost:8000/api/message/messages-conv\";\n\nexport {LOGIN_URL,SIGNUP_URL,DELETE_TOKEN_URL,CHECK_TOKEN_URL,GET_USER_URL,UPDATE_USER,REFRESH_TOKEN_URL,FETCH_USER_URL,POST,ADD_COMMENT,LIKE_POST,FOLLOW_USER,UNFOLLOW_USER,FEED_POSTS,SEARCH_USER,CREATE_CONVERSATION,SOCKET_URL,GET_MESSAGES};\n","export default __webpack_public_path__ + \"static/media/login.65ba4c39.jpg\";","import {createContext} from \"react\";\n\n const AppContext = createContext({});\n\nexport {AppContext};\n","import React,{useRef,useState,useEffect,useContext} from \"react\";\nimport {mainImage} from '../images/login.jpg';\nimport \"../Styles/login.css\";\nimport {Link} from 'react-router-dom';\nimport {LOGIN_URL} from \"../Endpoints/API_ENDPOINTS\";\nimport axios from \"axios\";\nimport {useHistory} from \"react-router-dom\";\nimport {AppContext} from \"../Context/AppContext\";\n\nconst Login  = () =>{\n\nconst ContextApp = useContext(AppContext);\n\n const history = useHistory();\n const [validEmail,setValidEmail] = useState(false);\n const [email,changeEmail] = useState(\"\");\n const passRef = useRef(null);\n const [pass,setPass] = useState(\"\");\n const [passEmpty,setPassEmpty] = useState(true);\n const [validForm,setValidForm] = useState(false);\n const [wrongCredentials,setWrongCredentials] = useState(false);\n\n const validateEmail = (email)=>{\n   var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n   if (re.test(email)) {\n   \treturn true;\n   }\n   else {\n   \treturn false;\n   }\n}\n\nconst setCookie = (token,refreshToken)=>{\n    const d = new Date();\n    d.setTime(d.getTime()+1*60*60*1000);\n    let expires = \"expires=\"+d.toUTCString();\n    document.cookie = `token=${token}; expires=${expires}`;\n    document.cookie = `refreshToken=${refreshToken}; expires=${expires}`;\n\n}\n\n const handleLogin = (evt)=>{\n   console.log(\"I am here\")\n    evt.preventDefault();\n\n    axios.post(LOGIN_URL,{\n      email:email,\n      password:pass\n    }).then(resp=>{\n\n      if(resp.status == 200)\n      {\n          setCookie(resp.data.token,resp.data.refreshToken);\n          ContextApp.updateUser(resp.data.user);\n          ContextApp.updateToken(resp.data.token);\n          ContextApp.updateRefreshToken(resp.data.refreshToken);\n          ContextApp.setLoggedIn(true);\n          // console.log(\"Context App From Login:\",ContextApp);\n          ContextApp.fetchUserPosts();\n          ContextApp.fetchFeedPosts();\n          history.push(\"/user/feed\");\n\n      }\n    }).catch(err=>{\n\n      if(err.response)\n      {\n        if(err.response.status == 404 || err.response.status == 401 || err.response.status == 403)\n        {\n          setWrongCredentials(true);\n        }\n        return;\n      }\n      alert(\"Error with the server!\");\n    })\n }\n\n const handleEmail = (inputVal)=>{\n   const txt = inputVal.target.value;\n   if(validateEmail(txt))\n   {\n     setValidEmail(true);\n   } else{\n     setValidEmail(false);\n   }\n   setWrongCredentials(false);\n   changeEmail(txt);\n }\n\n const handlePass = (passVal)=>{\n   const txt = passVal.target.value;\n   if(txt.length>0)\n   {\n     setPassEmpty(false);\n   } else {\n     setPassEmpty(true);\n   }\n  setWrongCredentials(false);\n   setPass(txt);\n }\n\n useEffect(()=>{\n   if(!passEmpty && validEmail)\n   {\n     setValidForm(true);\n   } else {\n     setValidForm(false);\n   }\n\n },[passEmpty,validEmail])\n\n useEffect(()=>{\n\n },[])\n\n  return(\n\t<div className=\"limiter\">\n\t\t<div className=\"container-login100\" >\n\t\t\t<div className=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54\">\n\n\t\t\t\t<form className=\"login100-form validate-form\" method=\"post\" >\n\t\t\t\t\t<span className=\"login100-form-title p-b-49\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</span>\n          { wrongCredentials && <p className=\"wrong-credentials-header\">WRONG CREDENTIALS!</p>}\n\t\t\t\t\t<div className=\"wrap-input100 validate-input m-b-23\" data-validate = \"Username is reauired\">\n\t\t\t\t\t\t<span className=\"label-input100\">Email</span>\n\t\t\t\t\t\t<input className=\"input100\" onChange={handleEmail} value={email} type=\"text\" name=\"username\" placeholder=\"Type your email\"/>\n\t\t\t\t\t\t<span className=\"focus-input100\" data-symbol=\"&#xf206;\"></span>\n\t\t\t\t\t</div>\n          {!validEmail && <p className=\"wrong-credentials\" style={{marginBottom:\"20px\"}}>Email not valid!</p>}\n\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\n\t\t\t\t\t\t<span className=\"label-input100\">Password</span>\n\t\t\t\t\t\t<input className=\"input100\" type=\"password\" value={pass} onChange={handlePass} name=\"pass\" placeholder=\"Type your password\"/>\n\t\t\t\t\t\t<span className=\"focus-input100\" data-symbol=\"&#xf190;\"></span>\n\t\t\t\t\t</div>\n          {passEmpty && <p className=\"wrong-credentials\" style={{paddingTop:\"20px\"}}>Password can't be empty!</p>}\n\t\t\t\t\t<div className=\"container-login100-form-btn login-btn-margin\">\n\t\t\t\t\t\t<div className=\"wrap-login100-form-btn\">\n\t\t\t\t\t\t\t<div className=\"login100-form-bgbtn\"></div>\n\t\t\t\t\t\t\t<button disabled={!validForm} className={validForm? \"login100-form-btn\":\"login100-form-btn disabled-btn\"} onClick={handleLogin}>\n\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\n\t\t\t\t\t<div className=\"flex-col-c p-t-155\">\n\t\t\t\t\t\t<span className=\"txt1 p-b-17\">\n\t\t\t\t\t\t\tOr Sign Up Using\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<a href=\"#\" className=\"txt2\">\n\t\t\t\t\t\t\t<Link to='/signup' className=''>Sign Up</Link>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  )\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/loading-data.f6b81dbd.gif\";","import React from \"react\";\nimport GIF_LOADING from \"../images/loading-data.gif\";\nimport \"../Styles/Loading.css\";\n\nconst Loading = ()=>{\n\nreturn(\n  <div>\n    <h1 className=\"loading-title\">Loading ...</h1>\n    <div className=\"loading-gif-container\">\n      <img src={GIF_LOADING} className=\"loading-gif\"/>\n   </div>\n\n  </div>\n)\n\n}\n\nexport default Loading;\n","import React,{useContext,useEffect} from 'react';\nimport sample from '../media/video.mp4';\nimport '../Styles/main.css';\nimport {Link} from 'react-router-dom';\nimport {AppContext} from \"../Context/AppContext\";\n\nconst Home = () =>{\n\nconst AppDataContext = useContext(AppContext);\n\nuseEffect(()=>{\n  console.log(\"From home:\",AppDataContext);\n},[])\n\n  return(\n      <div className='main'>\n      {/*  <video className=\"video-tag\" autoPlay loop muted>\n          <source src={sample} type=\"video/mp4\"></source>\n        </video> */}\n       <div>\n      </div>\n      <div className=\"mainText\">\n        <p className='titleStyle'>Wanna make new friends?</p>\n        <Link className='mainBtn'>Yes of course!</Link>\n      </div>\n      <div className=\"downDiv\">\n\n      </div>\n      </div>\n  )\n}\n\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/video.e614bb29.mp4\";","import React from 'react';\nimport '../Styles/navbar.css';\nimport {Link} from 'react-router-dom';\n\nconst Navbar = ()=>{\n\n  return(\n    <nav className='navBar'>\n      <p className='mainLogo'>PeachPen</p>\n      <ul className='navList'>\n        <li className='navItem'><Link className='linkStyle' to='/login'>Login</Link></li>\n        <li className='navItem'><Link className='linkStyle' to='/about'>About</Link></li>\n        <li className='navItem'><Link className='linkStyle' to='/signup'>Sign up</Link></li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Navbar;\n","import React,{useState,useEffect} from \"react\";\nimport {mainImage} from '../images/login.jpg';\nimport \"../Styles/login.css\";\nimport {Link} from 'react-router-dom';\nimport \"../Styles/SignUp.css\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport {faCheck} from '@fortawesome/free-solid-svg-icons';\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {SIGNUP_URL} from \"../Endpoints/API_ENDPOINTS\";\n\nlet firstPasField ='';\nlet repeatPassField = '';\nlet emVl = false;\n\nlet oldUsername = null;\nlet oldEmail = null;\n \n\nconst SignUp  = () =>{\n\nlet history = useHistory();\nconst validateEmail = (email)=>{\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (re.test(email)) {\n  \treturn true;\n  }\n  else {\n  \treturn false;\n  }\n}\n\n/* Form validation states */\nlet [emailVal,setEmailVal] = useState(\"\");\nlet [validEmail,setValidEmail] = useState(false);\nlet [validForm,setValidForm] = useState(false);\nlet [password,setPassword] = useState(\"\");\nlet [passwordMatch,setPasswordMatch] = useState(false);\nlet [usernameExist,setUserNameExist] = useState(false);\nlet [emailExists,setEmailExists] = useState(false);\nlet [username,setUsername] = useState(\"\");\nlet [repeatPass,setRepeatPass] = useState(\"\");\n\n\n/*password stregth states*/\nlet [has8Digits,setHas8Digits] = useState(false);\nlet [upperCaseLetter,setUpperCaseLetter] = useState(false);\nlet [lowerCaseLetter,setLowerCaseLetter] = useState(false);\nlet [hasOneDigit,setHasOneDigit] = useState(false);\nlet [hasSpecialChars,setHasSpecialChars] = useState(false);\n\nuseEffect(()=>{\n   console.log( username);\n  if(passwordMatch && validEmail && username!='' && emailVal!='' && password!='' && !emailExists && !usernameExist && has8Digits && upperCaseLetter && lowerCaseLetter && hasOneDigit && hasSpecialChars)\n  {\n    setValidForm(true);\n  } else {\n    setValidForm(false);\n  }\n},[username,emailVal,password,repeatPass,passwordMatch,validEmail,emailExists,usernameExist,has8Digits,upperCaseLetter,lowerCaseLetter,hasOneDigit,hasSpecialChars]);\n\n\nconst handleUserName = (txt)=>{\n  const val = txt.target.value;\n  if(oldUsername !=null)\n  {\n    if(val!=oldUsername)\n    {\n      setUserNameExist(false);\n    }\n  }\n\n  setUsername(val);\n}\n\nuseEffect(()=>{\n\n\n   const characterLength = new RegExp(\"(?=.{8,})\");\n   const upperCaseLetterReg = new  RegExp(\"(?=.*[A-Z])\");\n   const lowerCaseLetterReg = new RegExp(\"(?=.*[a-z])\");\n   const hasOneDigitReg = new RegExp(\"(?=.*[0-9])\");\n   const hasOneSpecial = new RegExp(\"(?=.*[0-9])\");\n\n   ///test for character length\n   if(characterLength.test(password))\n   {\n     setHas8Digits(true);\n   } else{\n     setHas8Digits(false);\n   }\n\n   if(upperCaseLetterReg.test(password))\n   {\n     setUpperCaseLetter(true);\n   } else{\n     setUpperCaseLetter(false);\n   }\n\n   if(lowerCaseLetterReg.test(password))\n   {\n     setLowerCaseLetter(true);\n   } else{\n     setLowerCaseLetter(false);\n   }\n\n   if(hasOneDigitReg.test(password))\n   {\n     setHasOneDigit(true);\n   } else{\n     setHasOneDigit(false);\n   }\n\n   if(hasOneSpecial.test(password))\n   {\n     setHasSpecialChars(true);\n   } else{\n     setHasSpecialChars(false);\n   }\n\n},[password]);\n\n\nconst handleEmail = (txt) =>{\n  const value = txt.target.value;\n\n  if(validateEmail(value))\n  {\n    setValidEmail(true);\n    if(oldEmail!=null)\n    {\n      if(value!=oldEmail)\n      {\n        setEmailExists(false);\n      }\n    }\n\n  } else {\n    setValidEmail(false);\n  }\n  setEmailVal(value);\n}\n\nconst handlePassword = (txt)=>{\n  const val = txt.target.value;\n  if(val == repeatPass)\n  {\n    setPasswordMatch(true)\n  } else {\n    setPasswordMatch(false);\n  }\n  setPassword(val);\n}\n\nconst handleRepeatPassword = (txt)=>{\n  const val = txt.target.value;\n  if(val == password)\n  {\n\n    setPasswordMatch(true)\n  } else {\n    setPasswordMatch(false);\n  }\n\n  setRepeatPass(val);\n}\n\n\nconst handleReq = async (e)=>{\n  oldUsername = null;\n  oldEmail = null;\n  const reqBody = {\n    email:emailVal,\n    password:password,\n    username:username,\n  };\n  console.log(reqBody);\n  e.preventDefault();\n  const res = await axios({\n    method:'post',\n    url:\"http://localhost:8000/api/auth/register\",\n    data:reqBody\n  }).then(resp=>{\n      console.log(resp);\n      if(resp.status == 200)\n      {\n        history.push(\"/register-success\");\n      }\n  }).catch(err=>{\n    if(!err.response)\n    {\n      alert(\"Erro with backend server!\");\n    } else{\n      if(err.response.data == \"Username and email already exists!\")\n      {\n            oldUsername = username;\n            oldEmail = emailVal;\n            setUserNameExist(true);\n            setEmailExists(true);\n      }\n      else if(err.response.data == \"Username already exists!\")\n      {\n            oldUsername = username;\n            setUserNameExist(true);\n      }\n      else if(err.response.data == \"Email already exists!\")\n      {\n          oldEmail = emailVal;\n          setEmailExists(true);\n      }\n    }\n\n  });\n}\n\nreturn (\n <div className=\"limiter\">\n   <div className=\"container-login100\" >\n     <div className=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54\">\n       <form className=\"login100-form validate-form\" method=\"POST\" onSubmit ={handleReq}>\n         <span className=\"login100-form-title p-b-49\">\n           Sign Up\n         </span>\n\n         <div className=\"wrap-input100 validate-input m-b-23\" data-validate = \"Username is required\">\n           <span className=\"label-input100\">Username</span>\n           <input className=\"input100\" type=\"text\" value={username} onChange={handleUserName} name=\"username\" placeholder=\"Type your username\"/>\n           <span className=\"focus-input100\" data-symbol=\"&#xf206;\"></span>\n         </div>\n         <p className={usernameExist?\"wrong-credentials\":\"wrong-credentials not-display\"}>Username taken!</p>\n       <div className=\"wrap-input100 validate-input m-b-23\" style={{\"marginTop\":'30px'}} data-validate = \"Username is reauired\">\n           <span className=\"label-input100\">Email</span>\n           <input className=\"input100\" type=\"text\" onChange={handleEmail} name=\"username\" value={emailVal} placeholder=\"Type your email\"/>\n           <span className=\"focus-input100\" data-symbol=\"&#xf15a;\"></span>\n         </div>\n\n         <p className={validEmail?\"wrong-credentials not-display\":\"wrong-credentials\"}>Email not valid!!!</p>\n         <br/><span className={emailExists?\"wrong-credentials\":\"not-display\"}>There is already an account registerd with this email!</span>\n         <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\n           <span className=\"label-input100\">Password</span>\n           <input className=\"input100\" type=\"password\" value={password} onChange={handlePassword} name=\"pass\" placeholder=\"Type your password\"/>\n           <span className=\"focus-input100\" data-symbol=\"&#xf190;\"></span>\n         </div>\n\n\n          <div className=\"password-requirements-container\">\n            <p className={has8Digits?\"meets-prop prop-container\":\"does-not-meet-prop prop-container\"}> { !has8Digits ? <FontAwesomeIcon icon={faTimes} className=\"prop-icon-container\"/> : <FontAwesomeIcon icon={faCheck} className=\"prop-icon-container\"/>}The password is at least 8 characters long</p>\n            <p className={upperCaseLetter?\"meets-prop prop-container\":\"does-not-meet-prop prop-container\"}> { !upperCaseLetter ? <FontAwesomeIcon icon={faTimes} className=\"prop-icon-container\"/> : <FontAwesomeIcon icon={faCheck} className=\"prop-icon-container\"/>}The password has at least one uppercase letter</p>\n            <p className={lowerCaseLetter?\"meets-prop prop-container\":\"does-not-meet-prop prop-container\"}> { !lowerCaseLetter ? <FontAwesomeIcon icon={faTimes} className=\"prop-icon-container\"/> : <FontAwesomeIcon icon={faCheck} className=\"prop-icon-container\"/>}The password has at least one lowercase letter</p>\n            <p className={hasOneDigit?\"meets-prop prop-container\":\"does-not-meet-prop prop-container\"}> { !hasOneDigit ? <FontAwesomeIcon icon={faTimes} className=\"prop-icon-container\"/> : <FontAwesomeIcon icon={faCheck} className=\"prop-icon-container\"/>}The password has at least one digit</p>\n            <p className={hasSpecialChars?\"meets-prop prop-container\":\"does-not-meet-prop prop-container\"}> { !hasSpecialChars ? <FontAwesomeIcon icon={faTimes} className=\"prop-icon-container\"/> : <FontAwesomeIcon icon={faCheck} className=\"prop-icon-container\"/>} The password has at least one special character</p>\n          </div>\n\n         <div className=\"wrap-input100 validate-input\" style={{'marginTop':'30px'}} data-validate=\"Password is required\">\n           <span className=\"label-input100\">Repeat Password</span>\n           <input className=\"input100\" type=\"password\" name=\"pass\" value={repeatPass} onChange={handleRepeatPassword} placeholder=\"Type your password\"/>\n           <span className=\"focus-input100\" data-symbol=\"&#xf190;\"></span>\n         </div>\n          <p style={{marginTop:\"-8px !important\"}}className={passwordMatch?\"wrong-credentials not-display\":\"wrong-credentials\"}>Passwords don't match</p>\n         <div className=\"container-login100-form-btn\" style={{\"marginTop\":'50px'}}>\n           <div className=\"wrap-login100-form-btn\">\n             <div className=\"login100-form-bgbtn\"></div>\n             <button type=\"submit\" disabled={!validForm} className={validForm ? \"login100-form-btn\":\"login100-form-btn disabled-btn\"}>\n               SignUp\n             </button>\n           </div>\n         </div>\n         <div className='existent-account'>\n          <p>Already have an account?</p>\n          <Link to='/login' className='backToLogin'><i className=\"zmdi zmdi-arrow-left\"></i>Back to login</Link>\n         </div>\n       </form>\n     </div>\n   </div>\n </div>\n  )\n}\n\nexport default SignUp;\n","export default __webpack_public_path__ + \"static/media/person.a3a58f08.jpg\";","export default __webpack_public_path__ + \"static/media/snicker.8f200bdb.jpg\";","export default __webpack_public_path__ + \"static/media/gift-box.4a9c4d62.png\";","export default __webpack_public_path__ + \"static/media/dummy-post.90ce351c.jpg\";","import jwt_decode from \"jwt-decode\";\n\n\nfunction clearCookies( wildcardDomain=false, primaryDomain=true, path=null ){\n  document.cookie.split(\";\").forEach(function(c) {\n      document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\");\n  });\n}\n\nconst isTokenExpired = (token)=>{\n\n    if(Date.now()>=jwt_decode(token).exp*1000)\n    {\n      return true;\n    }\n    return false;\n}\n\nconst getStoredTokens = ()=>{\n\n  let refreshToken='';\n  let token='';\n  if(!document.cookie)\n  {\n    return {\n      refreshToken:refreshToken,\n      token:token\n    }\n  }\n\n   if(document.cookie.includes(\";\"))\n   {\n     \n      if(document.cookie.split(\";\")[0].split(\"=\")[0].trim()=='token')\n          token = document.cookie.split(\";\")[0].split(\"=\")[1];\n      else if(document.cookie.split(\";\")[0].split(\"=\")[0].trim()=='refreshToken')\n          refreshToken = document.cookie.split(\";\")[0].split(\"=\")[1];\n\n      if(document.cookie.split(\";\")[1].split(\"=\")[0].trim()=='token')\n          token = document.cookie.split(\";\")[1].split(\"=\")[1];\n      else if(document.cookie.split(\";\")[1].split(\"=\")[0].trim()=='refreshToken')\n          refreshToken = document.cookie.split(\";\")[1].split(\"=\")[1];\n\n   } else {\n     if(document.cookie.split(\"=\")[0]=='refreshToken')\n        refreshToken = document.cookie.split(\"=\")[1];\n     if(document.cookie.split(\"=\")[0]=='token')\n          token = document.cookie.split(\"=\")[1];\n   }\n\n  return {\n    refreshToken:refreshToken,\n    token:token\n  }\n\n}\n\n\nfunction setCookie(cName, cValue, expDays) {\n        let date = new Date();\n        date.setTime(date.getTime() + (expDays * 24 * 60 * 60 * 1000));\n        const expires = \"expires=\" + date.toUTCString();\n        document.cookie = cName + \"=\" + cValue + \"; \" + expires + \"; path=/\";\n}\n\n\nfunction shuffle(array) {\n  let currentIndex = array.length,  randomIndex;\n\n  while (currentIndex != 0) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--;\n    [array[currentIndex], array[randomIndex]] = [\n    array[randomIndex], array[currentIndex]];\n  }\n\n  return array;\n}\n\n\nexport {clearCookies,isTokenExpired,getStoredTokens,setCookie,shuffle}\n","export default __webpack_public_path__ + \"static/media/loader.25d6d7d6.gif\";","import React ,{useEffect,useState,useContext,useRef} from \"react\";\nimport \"../Styles/mainPage.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faCommentDots}  from '@fortawesome/free-solid-svg-icons';\nimport {faVideo} from '@fortawesome/free-solid-svg-icons';\nimport {faUserFriends} from '@fortawesome/free-solid-svg-icons';\nimport {faBookmark} from '@fortawesome/free-solid-svg-icons';\nimport {faQuestionCircle} from '@fortawesome/free-solid-svg-icons';\nimport {faBuilding} from '@fortawesome/free-solid-svg-icons';\nimport {faCalendar} from '@fortawesome/free-solid-svg-icons';\nimport {faGraduationCap} from '@fortawesome/free-solid-svg-icons';\nimport {faPhotoVideo} from '@fortawesome/free-solid-svg-icons';\nimport {faTags} from '@fortawesome/free-solid-svg-icons';\nimport {faLocationArrow} from '@fortawesome/free-solid-svg-icons';\nimport {faThumbsUp} from '@fortawesome/free-solid-svg-icons';\nimport {faComment} from '@fortawesome/free-solid-svg-icons';\nimport { Input } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Person from \"../images/person.jpg\";\nimport Button from '@material-ui/core/Button';\nimport Birthday from '../images/gift-box.png';\nimport Add from '../images/snicker.jpg';\nimport Post from \"../images/dummy-post.jpg\";\nimport { Link } from \"react-router-dom\";\nimport {AppContext} from \"../Context/AppContext\";\nimport Loading from '../Components/Loading.js';\nimport {getStoredTokens} from \"../utility-functions/utility-functions\";\nimport axios from \"axios\";\nimport Loader from \"../images/loader.gif\";\nimport {POST,LIKE_POST,ADD_COMMENT,CREATE_CONVERSATION} from \"../Endpoints/API_ENDPOINTS\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n}));\n\nconst MainPage =()=>{\n\n\nconst ContextApp = useContext(AppContext);\nconst classes = useStyles();\nconst [commentsContent,setCommentsContent] = useState({});\nconst [commentDisplay,setCommentDisplay] = useState({});\nconst [value, setValue] = React.useState('Controlled');\nconst [toggleComments, setToggleComments] = useState(false);\nconst [liked,setLiked] = useState(false);\nconst textRef = useRef(null);\nconst imgRef = useRef(null);\nconst imgInput = useRef(null);\nconst [imageUploaded,setImageUploaded] = useState(false);\nconst [imageToUpload,setImageToUpload] = useState({});\nconst [postText,setPostText] = useState(\"\");\nconst [postDisabled,setPostDisabled] = useState(true);\nconst [postIsUploading,setPostIsUploading] = useState(false);\nconst [postError,setPostError] = useState(false);\nconst [posts,setPosts] = useState([]);\nconst [postLiked,setPostLiked] = useState({});\n\nconst handleChange = (event) => {\n setValue(event.target.value);\n};\n\nconst resFunc = ()=>{\n\n}\n\nconst handleToggleComm = (psId)=>{\n    const data = {}\n    data[psId] = !commentDisplay[psId];\n    setCommentDisplay({...commentDisplay,...data});\n}\n\n\n\nconst imgUploadProcess = (evt)=>{\n  if(evt.target.files[0]!=undefined)\n  {\n    const file = evt.target.files[0];\n    const renderedData = URL.createObjectURL(file);\n    const fileReader = new FileReader();\n    fileReader.readAsDataURL(file);\n    setImageUploaded(true);\n    fileReader.onload = ev =>{\n      const obj = {\n        coverPicture:ev.target.result.split(\"base64,\")[1]\n      }\n      setImageToUpload(obj);\n      console.log(obj);\n    }\n  }\n\n}\n\nconst handlePhotoUpload = (evt)=>{\n  setImageUploaded(false);\n  evt.preventDefault();\n  imgInput.current.click()\n}\n\n\nconst postData = ()=>{\n  setImageUploaded(false);\n  setPostIsUploading(true);\n  const {token} = getStoredTokens();\n  axios({\n    url:POST,\n    method:'post',\n    headers:{\n      'Authorization':`Bearer ${token}`\n    },\n    data:{\n      description:postText,\n      postPicture:imageToUpload.coverPicture\n    }\n  }).then(resp=>{\n    console.log(resp);\n\n    if(resp.status == 200)\n    {\n      setPostIsUploading(false);\n\n      console.log(resp);\n      let postObj = {\n        comments:[],\n        desc:postText,\n        img:imageToUpload.coverPicture,\n        likes:[],\n        postHolder:ContextApp.user,\n        userId:ContextApp.user._id,\n        _id:resp.data\n      }\n      let oldElems;\n      setPosts(oldArr => [postObj,...oldArr]);\n      setImageToUpload(\"\");\n      setPostText(\"\");\n\n      const data = {}\n      data[resp.data] = false;\n     setPostLiked({...postLiked,...data})\n    }\n    else{\n      console.log(\"Hello from else!\");\n      setPostIsUploading(false);\n      alert(\"Error while posting!\");\n    }\n  }).catch(err=>{\n    if( err.response && err.response.status == 401)\n    {\n      ContextApp.setLoggedIn(false);\n    }\n\n    setPostIsUploading(false);\n    alert(\"Error while posting!\");\n  })\n}\n\nconst handlePostText = (evt)=>{\n  const text = evt.target.value;\n  setPostText(text);\n  if(text.length>0)\n  {\n    setPostDisabled(false);\n  } else {\n    setPostDisabled(true);\n  }\n\n}\n\n\nconst getData = ()=>{\n  const {token} = getStoredTokens();\n  axios({\n    url:'http://localhost:8000/api/posts/getposts',\n    method:'post',\n    headers:{\n      'Authorization':`Bearer ${token}`\n    }\n  }).then(resp=>{\n    console.log(resp);\n  }).catch(err=>{\n    console.log(err);\n  })\n}\n\nconst handleLike = (postId)=>{\n\n    const data = {};\n    data[postId] = !postLiked[postId];\n     setPostLiked({...postLiked,...data});\n\n    const {token} = getStoredTokens();\n    const stateValue = !postLiked[postId];\n    ((likeVal)=>{\n      axios({\n        method:'put',\n        url:LIKE_POST(postId),\n        headers:{\n          'Authorization':`Bearer ${token}`\n        }\n      }).then(resp=>{\n          if(resp.status == 200){\n             if(likeVal)\n             {\n               const newPosts = posts.map((post)=>{\n                 if(post._id == postId)\n                 {\n                   post.likes.push({\n                     userId:ContextApp.user._id\n                   })\n                 }\n                 return post;\n               });\n\n               setPosts([...newPosts]);\n             } else {\n               const newPosts = posts.map((post)=>{\n                 if(post._id == postId)\n                 {\n                   post.likes = post.likes.filter(ps=>ps.userId!=ContextApp.user._id);\n                 }\n                 return post;\n               });\n\n               setPosts([...newPosts]);\n\n             }\n          }\n      }).catch(err=>{\n        console.log(err);\n      })\n    })(stateValue);\n}\n\nconst [isLoadingData,setIsLoadingData] = useState(true);\nlet user;\n\nconst handleChangeCommentText = (evt,psId)=>{\n   const data = evt.target.value;\n   const newCommentData = {};\n   newCommentData[psId] = data;\n   setCommentsContent({...commentsContent,...newCommentData});\n}\n\nconst handlePostCommentData = (evt,postId)=>{\n   const newPosts = posts;\n   const commentObj = {\n     userId:  ContextApp.user._id,\n     comment : commentsContent[postId],\n     userPhoto: ContextApp.user.profilePicture,\n     username:ContextApp.user.username\n   };\n   const newCommentData = {};\n   const commToPost = commentsContent[postId];\n   newCommentData[postId] = '';\n   setCommentsContent({...commentsContent,...newCommentData});\n\n   const {token} = getStoredTokens();\n\n    if(token){\n      axios({\n        method:'put',\n        url:ADD_COMMENT(postId),\n        headers:{\n          'Authorization':`Bearer ${token}`\n        },\n        data:{\n          comment:commToPost\n        }\n      }).then(resp=>{\n        console.log(resp);\n        if(resp.status == 200)\n        {\n          for (const post of newPosts){\n             if(post._id == postId)\n             {\n               post.comments.unshift(commentObj)\n             }\n          }\n\n          setPosts([...newPosts]);\n        }\n      }).catch(err=>{\n        console.log(err);\n      })\n\n    } else {\n      AppContext.setLoggedIn(false);\n    }\n}\n\n\n\nuseEffect(()=>{\n    console.log(\"MainPage first useEffect is called at refresh!\");\n    window.addEventListener('resize',resFunc);\n\n    if(ContextApp.user){\n      setIsLoadingData(false);\n    }\n\n    const commentData = {};\n    for(const post of ContextApp.feedPosts){\n      console.log(post);\n    }\n    setCommentDisplay({...commentDisplay,...commentData});\n\n    return()=>{\n      window.removeEventListener('resize',resFunc);\n    }\n},[ContextApp.user]);\n\n\n\nuseEffect(()=>{\n    setPosts(ContextApp.feedPosts);\n    const data = {};\n    const myCommentData = {};\n    for(const post of ContextApp.feedPosts)\n    {\n       const likedPost = !(post.likes.find((ps)=>ps.userId == ContextApp.user._id) == undefined);\n       const psId = post._id;\n       data[psId] = likedPost;\n       myCommentData[psId] = '';\n    }\n     setPostLiked({...postLiked,...data});\n     setCommentsContent({...commentsContent,...myCommentData});\n\n},[ContextApp.feedPosts])\n\n\nif(ContextApp.user)\n {\n    return(\n      <div className=\"main-container\">\n      <div className=\"side-nav options\">\n     <div className=\"item-container item-large special-align\">\n       <FontAwesomeIcon icon={faCommentDots} className=\"icon-container\"/>\n         <span className=\"inline\">\n          <Link to=\"/user/messages\" style={{textDecoration:\"none\",fontSize:\"1.3rem\", color:\"#000\"}}>Chats</Link>\n         </span>\n     </div>\n\n  </div>\n  <div className=\"main-content\">\n  <div className=\"post-card\">\n   <div className=\"form-container\">\n   <div className=\"person-avatar-container\">\n     <img src={`data:image/jpeg;base64,${ContextApp.user.profilePicture}`} alt=\"person\" className=\"person-avatar\"/>\n   </div>\n      <form className={`${classes.root} text-input`} noValidate autoComplete=\"off\">\n      <TextField\n         id=\"outlined-multiline-static\"\n         label=\"What is on your mind?\"\n         multiline\n         style={{width:\"80%\"}}\n         rows={2}\n         defaultValue=\"\"\n         ref={textRef}\n         onChange={handlePostText}\n    />\n\n   {imageUploaded && <p className=\"success-img\">Image Uploaded!</p>}\n    <div className=\"media-type-container\">\n    <input type=\"file\" hidden={true}  accept=\".jpg, .jpeg, .png\" ref={imgInput} onChange={imgUploadProcess}/>\n      <button onClick={handlePhotoUpload} className=\"media-type\">\n          <FontAwesomeIcon icon={faPhotoVideo} className=\"icon-container photo-video\"/>\n          <p className=\"media-icon-desc \">Photo</p>\n      </button>\n\n      <Button disabled={postDisabled} variant=\"contained\" className=\"btn\" onClick={postData} color=\"primary\">\n        Share!\n      </Button>\n    </div>\n\n    </form>\n   </div>\n  </div>\n\n  <div className=\"feed-container\">\n\n  {postIsUploading &&    <div className=\"post-is-loading\">\n      <img src={Loader} className=\"gif-loader\" />\n      <p className=\"loading-post-text\">Uploading Post...</p>\n    </div>\n  }\n\n  {postError && <p className='post-error-uploaded'>ERROR WHILE UPLOADING POST!</p>}\n\n\n  {/*======================== HERE WE HAVE POSTS ========================*/}\n  {posts.length>0 && posts.map((post,id)=>{\n      return(\n        <div className=\"post-container\" key={id}>\n          <div className=\"header\">\n               <img src={`data:image/jpeg;base64,${post.postHolder.profilePicture}`} className=\"person-avatar-online\"/>\n               <p className=\"post-username\">{post.postHolder.name}</p>\n          </div>\n          <div className=\"post-body\">\n            <p className=\"description\"> {post.desc}</p>\n            <div>\n            {post.img &&  <img src={`data:image/jpeg;base64,${post.img}`} alt=\"post-image\" className=\"post-image\"/>}\n          </div>\n           <div className=\"post-feedback-section\">\n             <div><FontAwesomeIcon icon={faThumbsUp} style={{cursor:'pointer'}} onClick={()=>{handleLike(post._id)}} className={postLiked[post._id]?\"icon-container like post-elem-clicked\":\"icon-container\"}/><span style={{marginLeft:'20px'}}>{post.likes.length}</span></div>\n             <FontAwesomeIcon icon={faComment} style={{cursor:'pointer'}} onClick={()=>{handleToggleComm(post._id)}}  className={commentDisplay[post._id]?\"icon-container like post-elem-clicked\":\"icon-container\"}/>\n           </div>\n\n           <div className={commentDisplay[post._id]? \"post-comment-section\" : \"post-comment-section not-display\"}>\n\n              <TextField\n              id=\"outlined-multiline-static\"\n              label=\"Add comment\"\n              multiline\n              style={{width:\"80%\"}}\n              rows={2}\n              value = {commentsContent[post._id]}\n              onChange = {(evt)=>{handleChangeCommentText(evt,post._id)}}\n              defaultValue=\"\"\n               />\n             <Button variant=\"contained\" onClick={(evt)=>{handlePostCommentData(evt,post._id)}} className=\"btn btn-post\" color=\"primary\">\n                 Post\n               </Button>\n               <div className=\"previous-comments\">\n\n                 {post.comments.map((postComm)=>{\n                   return(\n                     <div className=\"card-reply\">\n                           <div className=\"card-reply-header\">\n                             <img src={`data:image/jpeg;base64,${postComm.userPhoto}`} alt=\"person\" className=\"person-avatar question-card-reply-person-image\"/>\n                             <p className=\"card-reply-username\">{postComm.username} said:</p>\n                           </div>\n                           <p className=\"card-reply-text-post\">{postComm.comment}</p>\n                       </div>\n                   )\n                 })}\n               </div>\n           </div>\n          </div>\n       </div>\n      )\n  })}\n\n{/*======================== HERE IS POST END(there is another post below this) ========================*/}\n\n\n  </div>\n  <div className=\"right-nav\">\n\n      <img src={Add} alt=\"add\" className=\"addImg\" />\n      <div className=\"friend-list\">\n        <ul>\n           <li className=\"person-container\"> <img src={Person} className=\"person-avatar-post\"/> <span className=\"active-dot\"></span> <p className=\"person-username\">Person 1</p></li>\n        </ul>\n      </div>\n     </div>\n   </div>\n\n  </div>\n    )\n  } else {\n    return(\n      <div></div>\n    )\n  }\n}\n\nexport default MainPage;\n","import React ,{useState, useEffect,useContext} from 'react';\nimport { alpha, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport \"../Styles/feedNavbar.css\";\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faRss} from '@fortawesome/free-solid-svg-icons';\nimport {faCommentDots}  from '@fortawesome/free-solid-svg-icons';\nimport {faVideo} from '@fortawesome/free-solid-svg-icons';\nimport {faUserFriends} from '@fortawesome/free-solid-svg-icons';\nimport {faBookmark} from '@fortawesome/free-solid-svg-icons';\nimport {faQuestionCircle} from '@fortawesome/free-solid-svg-icons';\nimport {faBuilding} from '@fortawesome/free-solid-svg-icons';\nimport {faCalendar} from '@fortawesome/free-solid-svg-icons';\nimport {faGraduationCap} from '@fortawesome/free-solid-svg-icons';\nimport {faHome} from '@fortawesome/free-solid-svg-icons';\nimport {faGift} from '@fortawesome/free-solid-svg-icons';\nimport {faThumbsUp} from '@fortawesome/free-solid-svg-icons';\nimport {faComments} from '@fortawesome/free-solid-svg-icons';\nimport {faPlusSquare} from '@fortawesome/free-solid-svg-icons';\nimport {faTrash} from '@fortawesome/free-solid-svg-icons';\nimport {faUser} from '@fortawesome/free-solid-svg-icons';\nimport {faCog} from '@fortawesome/free-solid-svg-icons';\nimport {faDoorOpen} from '@fortawesome/free-solid-svg-icons';\nimport Person from \"../images/person.jpg\";\nimport Birthday from '../images/gift-box.png';\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {DELETE_TOKEN_URL} from \"../Endpoints/API_ENDPOINTS.js\";\nimport {AppContext} from \"../Context/AppContext\";\nimport {useHistory} from \"react-router-dom\";\nimport {clearCookies,getStoredTokens} from \"../utility-functions/utility-functions.js\";\nimport Loading from '../Components/Loading.js';\n\n\nconst useStyles = makeStyles((theme) => ({\n grow: {\n   flexGrow: 1,\n },\n menuButton: {\n   marginRight: theme.spacing(2),\n },\n title: {\n   display: 'none',\n   [theme.breakpoints.up('sm')]: {\n     display: 'block',\n   },\n },\n search: {\n   position: 'relative',\n   borderRadius: theme.shape.borderRadius,\n   backgroundColor: alpha(theme.palette.common.white, 0.15),\n   '&:hover': {\n     backgroundColor: alpha(theme.palette.common.white, 0.25),\n   },\n   marginRight: theme.spacing(2),\n   marginLeft: 0,\n   width: '100%',\n   [theme.breakpoints.up('sm')]: {\n     marginLeft: theme.spacing(3),\n     width: 'auto',\n   },\n },\n searchIcon: {\n   padding: theme.spacing(0, 2),\n   height: '100%',\n   position: 'absolute',\n   pointerEvents: 'none',\n   display: 'flex',\n   alignItems: 'center',\n   justifyContent: 'center',\n },\n inputRoot: {\n   color: 'inherit',\n },\n inputInput: {\n   padding: theme.spacing(1, 1, 1, 0),\n   // vertical padding + font size from searchIcon\n   paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n   transition: theme.transitions.create('width'),\n   width: '100%',\n   [theme.breakpoints.up('md')]: {\n     width: '20ch',\n   },\n },\n sectionDesktop: {\n   display: 'none',\n   [theme.breakpoints.up('md')]: {\n     display: 'flex',\n   },\n },\n sectionMobile: {\n   display: 'flex',\n   [theme.breakpoints.up('md')]: {\n     display: 'none',\n   },\n },\n}));\n\nexport default function PrimarySearchAppBar() {\n const classes = useStyles();\n const [anchorEl, setAnchorEl] = React.useState(null);\n const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n const isMenuOpen = Boolean(anchorEl);\n const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n const handleProfileMenuOpen = (event) => {\n   setAnchorEl(event.currentTarget);\n\n };\n\n const handleMobileMenuClose = () => {\n   setMobileMoreAnchorEl(null);\n };\n\n const history = useHistory();\n const AppContextData = useContext(AppContext);\n const handleLogout = ()=>{\n   console.log(\"Hello from handle logout\")\n   clearCookies();\n  if(document.cookie)\n  {\n    const refreshTk = getStoredTokens().refreshToken;\n    clearCookies();\n    const reqData = {\n      token:refreshTk\n    }\n  }\n  else {\n    console.log(\"No cookies today!\");\n    }\n\n    history.push('/')\n    setTimeout(()=>{\n        window.location.reload();\n    },2000);\n }\n\n\n const handleMenuClose = (evt) => {\n\n   if(evt.target.textContent == 'Logout')\n   {\n\n   }\n   setAnchorEl(null);\n   handleMobileMenuClose();\n };\n\n const handleMobileMenuOpen = (event) => {\n   setMobileMoreAnchorEl(event.currentTarget);\n };\n\n const handleNotificationsMenu = ()=>{\n    if(window.innerWidth<960)\n    {\n      handleMobileMenuClose();\n    }\n    setRenderNotifications(!renderNotifications);\n }\n\n const handleMessagesMenu = ()=>{\n   if(window.innerWidth<960)\n   {\n     handleMobileMenuClose();\n   }\n   setRenderMessages(!renderMessages);\n }\n\n const menuId = 'primary-search-account-menu';\n const renderMenu = (\n   <Menu\n\n     anchorEl={anchorEl}\n     anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n     id={menuId}\n     keepMounted\n     transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n     open={isMenuOpen}\n     onClose={handleMenuClose}\n   >\n     <MenuItem onClick={handleMenuClose} name=\"Profile\"><FontAwesomeIcon icon={faUser} style={{marginRight:\"10\"}}/> <Link style={{textDecoration:\"none\",color:\"#000\"}} to={'/user/profile?id='+AppContextData.user._id}> Profile</Link></MenuItem>\n     <MenuItem onClick={handleMenuClose} name=\"Settings\"><FontAwesomeIcon icon={faCog} style={{marginRight:\"10\"}}/> <Link style={{textDecoration:\"none\",color:\"#000\"}} to=\"/user/settings\"> Settings </Link></MenuItem>\n     <MenuItem onClick={handleMenuClose} name=\"Logout\" onClick={handleLogout}><FontAwesomeIcon icon={faDoorOpen} style={{marginRight:\"10\"}}/> Logout </MenuItem>\n   </Menu>\n );\n\nconst [profileImg,setProfileImg] = useState(\"\");\n const mobileMenuId = 'primary-search-account-menu-mobile';\n const renderMobileMenu = (\n   <Menu\n     anchorEl={mobileMoreAnchorEl}\n     anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n     id={mobileMenuId}\n     keepMounted\n     transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n     open={isMobileMenuOpen}\n     onClose={handleMobileMenuClose}\n   >\n     <MenuItem onClick={handleMessagesMenu}>\n       <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n         <Badge badgeContent={4} color=\"secondary\">\n           <MailIcon />\n         </Badge>\n       </IconButton>\n       <p>Messages</p>\n     </MenuItem>\n     <MenuItem onClick={handleNotificationsMenu}>\n       <IconButton aria-label=\"show 11 new notifications\"  color=\"inherit\">\n         <Badge badgeContent={11} color=\"secondary\">\n           <NotificationsIcon />\n         </Badge>\n       </IconButton>\n       <p>Notifications</p>\n     </MenuItem>\n     <MenuItem onClick={handleProfileMenuOpen}>\n       <IconButton\n         aria-label=\"account of current user\"\n         aria-controls=\"primary-search-account-menu\"\n         aria-haspopup=\"true\"\n         color=\"inherit\"\n       >\n         <img src={`data:image/jpeg;base64,${AppContextData.user.profilePicture}`} className=\"person-icon-nav\"/>\n       </IconButton>\n       <p>Profile</p>\n     </MenuItem>\n   </Menu>\n );\n\n  const [open, setOpen] = useState(false);\n  const toggleDrawer = ()=>{\n    setOpen(!open);\n  }\n\n  const handleDrawerAtResize = ()=>{\n    if(window.innerWidth>=1200)\n      setOpen(false);\n  }\n\n  const [isLoading,setIsLoading] = useState(true);\n  const notifications = [];\n  const [renderHamMenu,setRenderHamMenu] = useState(true);\n  const [renderNotifications, setRenderNotifications] = useState(false);\n  const [renderMessages,setRenderMessages] = useState(false);\n  const [renderHomeBtn,setRenderHomeBtn] = useState(false);\n  const [searchInputData,setSearchInputData] = useState('');\n\n  const handleChangeText = (evt)=>{\n    const txt = evt.target.value;\n    setSearchInputData(txt);\n  }\n\n\n const handleSubmitValue = (evt)=>{\n   if(evt.code == \"Enter\")\n    {\n        history.push(`/search?q=${searchInputData}`);\n    }\n\n }\n\n  useEffect(()=>{\n     const localSocket = AppContextData.globalSocket;\n\n     localSocket.on()\n\n    window.addEventListener(\"resize\",handleDrawerAtResize);\n    if(window.location.pathname == \"/user/profile\")\n    {\n      setRenderHamMenu(false);\n    } else {\n      setRenderHamMenu(true);\n    }\n\n    if(AppContextData.user){\n      setIsLoading(false);\n\n    }\n    if(AppContextData.user.user){\n      setProfileImg(AppContextData.user.profilePicture);\n    }\n    return ()=>{\n      window.removeEventListener(\"resize\",handleDrawerAtResize);\n    }\n  },[AppContextData.user.user])\n\n\n\nif(AppContextData.user){\n return (\n   <div className={classes.grow}>\n\n     <AppBar position=\"static\"  style={{\n        position:\"fixed\",\n\n        background: \"#a64bf4 !important\",\n        background: \"-webkit-linear-gradient(right, #00dbde, #fc00ff, #00dbde, #fc00ff) !important\",\n        background: \"-o-linear-gradient(right, #00dbde, #fc00ff, #00dbde, #fc00ff) !important\",\n        background: \"-moz-linear-gradient(right, #00dbde, #fc00ff, #00dbde, #fc00ff) !important\",\n        background: \"linear-gradient(right, #00dbde, #fc00ff, #00dbde, #fc00ff) !important\"\n      }}>\n       <Toolbar>\n\n   {renderHamMenu && <IconButton\n      edge=\"start\"\n      className={`${classes.menuButton} sidebar`}\n      color=\"inherit\"\n      aria-label=\"open drawer\"\n      onClick ={toggleDrawer}\n    >\n      <MenuIcon />\n    </IconButton> }\n\n         <Typography className={classes.title} variant=\"h6\" noWrap>\n           Peach Pen\n         </Typography>\n         <div className={classes.search}>\n           <div className={classes.searchIcon}>\n             <SearchIcon />\n           </div>\n           <InputBase\n             placeholder=\"Search…\"\n             classes={{\n               root: classes.inputRoot,\n               input: classes.inputInput,\n             }}\n             inputProps={{ 'aria-label': 'search' }}\n             value = {searchInputData}\n             onChange = {handleChangeText}\n             onKeyPress = {handleSubmitValue}\n           />\n         </div>\n\n           <div style={{display:\"flex\",flexDirection:\"row\"}}>\n            <FontAwesomeIcon style={{marginTop:\"8\"}} icon = {faHome} className=\"home-icon\"/>\n            <Link to='/user/feed' style={{textDecoration:\"none\"}}className=\"home-page-link\">Home</Link>\n          </div>\n\n         <div className={classes.grow} />\n         <div className={classes.sectionDesktop}>\n           <IconButton aria-label=\"show 4 new mails\" color=\"inherit\" onClick={handleMessagesMenu}>\n             <Badge badgeContent={1} color=\"secondary\">\n               <MailIcon />\n             </Badge>\n           </IconButton>\n           <IconButton aria-label=\"show 17 new notifications\" onClick={handleNotificationsMenu} color=\"inherit\">\n             <Badge badgeContent={17} color=\"secondary\">\n               <NotificationsIcon />\n             </Badge>\n           </IconButton>\n           <IconButton\n             edge=\"end\"\n             aria-label=\"account of current user\"\n             aria-controls={menuId}\n             aria-haspopup=\"true\"\n             onClick={handleProfileMenuOpen}\n             color=\"inherit\"\n           >\n           <img src={`data:image/jpeg;base64,${AppContextData.user.profilePicture}`} className=\"person-icon-nav\"/>\n           </IconButton>\n         </div>\n         <div className={classes.sectionMobile}>\n           <IconButton\n             aria-label=\"show more\"\n             aria-controls={mobileMenuId}\n             aria-haspopup=\"true\"\n             onClick={handleMobileMenuOpen}\n             color=\"inherit\"\n           >\n             <MoreIcon />\n           </IconButton>\n         </div>\n       </Toolbar>\n     </AppBar>\n     {renderMobileMenu}\n     {renderMenu}\n    {\n      renderNotifications &&\n      <div className=\"navbar-dropdown\">\n\n       <p className=\"navbar-dropdown-title\">Notitifications</p>\n        { notifications.length === 0 ? <p className=\"no-notifications\">No new notifications</p> :\n        <div className=\"notifications-body\">\n          <div className=\"notification-item\"><img className=\"notifications-photo\" src={Person}/> <FontAwesomeIcon icon={faThumbsUp} className=\"notification-icon notification-like\"/> <span className=\"notification-text\"> Liked your post</span></div>\n          <div className=\"notification-item\"><img className=\"notifications-photo\" src={Person}/> <FontAwesomeIcon icon={faComments} className=\"notification-icon notification-comment\"/> <span className=\"notification-text\"> Commented at your post</span></div>\n          <div className=\"notification-item\"><img className=\"notifications-photo\" src={Person}/> <FontAwesomeIcon icon={faPlusSquare} className=\"notification-icon notification-follow\"/> <span className=\"notification-text\"> Started to follow you</span></div>\n        </div>\n        }\n        <div className=\"notifications-bottom-dialog\"><p className=\"close-dialog-text\" onClick={handleNotificationsMenu}>Close notifications</p> {notifications.length>0 && <p className=\"notifications-delete-text\">Delete all notifications <FontAwesomeIcon icon={faTrash} className=\"notifications-delete-icon\"/></p>}</div>\n\n    </div>\n    }\n\n    {renderMessages &&\n      <div className=\"navbar-dropdown\">\n          <p className=\"navbar-dropdown-title\">Messages</p>\n            <FontAwesomeIcon icon ={faUserFriends} className=\"no-message-icon\"/>\n           <p className=\"no-messages-text\">No messages. Go and socialize with friends</p>\n           {/*Aici va fi cu left you a message (x left you a message)*/}\n           <div className=\"notifications-bottom-dialog\"><p className=\"close-dialog-text\" onClick={handleMessagesMenu}>Close notifications</p></div>\n      </div>\n    }\n\n     <div className={open? \"hidden-menu \": \"hidden-menu hidden\"}>\n        <FontAwesomeIcon icon={faTimes} className=\"close-btn\" onClick={toggleDrawer}/>\n\n\n        <div style={{marginRight:\"70px\"}} className=\"item-container item-large\">\n          <Link to='/user/messages' style={{textDecoration:\"none\"}}>\n            <FontAwesomeIcon icon={faCommentDots}  style={{marginRight:15}} className=\"icon-container-ham-menu large-font\"/>\n            <span className=\"inline-ham-menu large-font\">Chats</span>\n          </Link>\n        </div>\n\n     </div>\n   </div>\n ) }\n else {\n   return(<Loading/>)\n }\n}\n","import React from \"react\";\n\nconst Test = ()=>{\n\nreturn(\n  <div>\n    <p>Salut! This is just a test for you to know!</p>\n  </div>\n)\n\n}\n\nexport default Test;\n","export default __webpack_public_path__ + \"static/media/not-found.00a6dc47.jpg\";","import React from \"react\";\nimport \"../Styles/notFound.css\";\nimport Image from '../images/not-found.jpg';\n\nconst PageNotFound = ()=>{\n\n  return(\n    <div  className=\"not-found\">\n      <img src={Image} style={{width:\"90vw\"}} />\n    </div>\n  )\n\n}\n\n\nexport default PageNotFound;\n","import React ,{useState,useContext,useEffect} from \"react\";\nimport \"../Styles/Profile.css\";\nimport bkgImg from \"../images/user-bkg.jpg\";\nimport userProfilePhoto from \"../images/person.jpg\";\nimport Person from \"../images/person.jpg\";\nimport TextField from '@material-ui/core/TextField';\nimport {faPhotoVideo} from '@fortawesome/free-solid-svg-icons';\nimport {faTags} from '@fortawesome/free-solid-svg-icons';\nimport {faLocationArrow} from '@fortawesome/free-solid-svg-icons';\nimport {faUserPlus} from '@fortawesome/free-solid-svg-icons';\nimport {faCommentAlt} from '@fortawesome/free-solid-svg-icons';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Post from \"../images/dummy-post.jpg\";\nimport {faThumbsUp} from '@fortawesome/free-solid-svg-icons';\nimport {faComment} from '@fortawesome/free-solid-svg-icons';\nimport {faHome} from '@fortawesome/free-solid-svg-icons';\nimport {faCity} from '@fortawesome/free-solid-svg-icons';\nimport {faHeart} from '@fortawesome/free-solid-svg-icons';\nimport {faGraduationCap} from '@fortawesome/free-solid-svg-icons';\nimport {faUserCheck} from '@fortawesome/free-solid-svg-icons';\nimport {Link} from \"react-router-dom\";\nimport {AppContext} from \"../Context/AppContext\";\nimport Loading from '../Components/Loading.js';\nimport {getStoredTokens} from \"../utility-functions/utility-functions.js\";\nimport jwt_decode from \"jwt-decode\";\nimport {FETCH_USER_URL,LIKE_POST,FOLLOW_USER,UNFOLLOW_USER,CREATE_CONVERSATION,SEARCH_USER} from \"../Endpoints/API_ENDPOINTS\";\nimport axios from \"axios\";\nimport {useHistory} from \"react-router-dom\";\nimport {clearCookies} from \"../utility-functions/utility-functions\";\nimport NotFound from \"./PageNotFound\";\nimport LoadingDataGif from \"../images/loader.gif\";\n\nconst _ = require(\"lodash\");\n\nconst Profile = ({location}) =>{\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n  }));\n  const [commentsContent,setCommentsContent] = useState({});\n  const [toggleComments, setToggleComments] = useState(false);\n  const [liked,setLiked] = useState(false);\n  const [loadingData,setLoadingData] = useState(true);\n  const classes = useStyles();\n  const [value, setValue] = React.useState('Controlled');\n  const history = useHistory();\n  const ContextAppData = useContext(AppContext);\n  const user = ContextAppData.user;\n  const [isLoading,setIsLoading] = useState(true);\n  const [displayUserInteract,setDisplayUserInteract] = useState(false);\n  const [userNotFound,setUserNotFound] = useState(false);\n  const [fetchedUser,setFetchedUser] = useState({});\n  const [fetchedUserPosts,setFetchedUserPosts] = useState({});\n  const [mainProfile,setMainProfile] = useState(false);\n  const [postLiked,setPostLiked] = useState({});\n  const [isUserFollowed,setIsUserFollowed] = useState(false);\n  const [commentDisplay,setCommentDisplay] = useState({});\n\n  const handleToggleComm = (psId)=>{\n      const data = {}\n      data[psId] = !commentDisplay[psId];\n      setCommentDisplay({...commentDisplay,...data});\n  }\n\nconst handleLike = (postId)=>{\n\n    const data = {};\n    data[postId] = !postLiked[postId];\n\n    setPostLiked({...postLiked,...data});\n    const {token} = getStoredTokens();\n    const stateValue = !postLiked[postId];\n    ((likeVal)=>{\n      axios({\n        method:'put',\n        url:LIKE_POST(postId),\n        headers:{\n          'Authorization':`Bearer ${token}`\n        }\n      }).then(resp=>{\n          if(resp.status == 200){\n             if(likeVal)\n             {\n               const newPosts = fetchedUserPosts.data.map((post)=>{\n                 if(post._id == postId)\n                 {\n                   post.likes.push({\n                     userId:ContextAppData.user._id\n                   })\n                 }\n                 return post;\n               });\n\n               setFetchedUserPosts({...fetchedUserPosts,data:newPosts});\n             } else {\n               const newPosts = fetchedUserPosts.data.map((post)=>{\n                 if(post._id == postId)\n                 {\n                   post.likes = post.likes.filter(ps=>ps.userId!=ContextAppData.user._id);\n                 }\n\n                 return post;\n               });\n\n               setFetchedUserPosts({...fetchedUserPosts,data:newPosts});\n\n             }\n          }\n      }).catch(err=>{\n        console.log(err);\n      })\n    })(stateValue);\n\n\n}\n\nconst fetchPosts = (id)=>{\n    const {token} = getStoredTokens();\n if(token)\n {\n   axios({\n       url:'http://localhost:8000/api/posts/userposts',\n       method:'get',\n       headers:{\n         'Accept': 'application/json',\n         'Content-Type': 'application/json',\n         'Authorization':`Bearer ${token}`,\n         'UserId':id\n       }\n   }).then(resp=>{\n\n     setFetchedUserPosts(resp);\n     const data = {};\n     const commentData = {};\n     const commentsText = {};\n     for(const post of resp.data)\n     {\n        const likedPost = !(post.likes.find((ps)=>ps.userId == ContextAppData.user._id) == undefined);\n        const psId = post._id;\n        data[psId] = likedPost;\n        commentData[psId] = false;\n        commentsText[psId] = '';\n     }\n      setPostLiked({...postLiked,...data});\n      setCommentDisplay({...commentDisplay,...commentData});\n      setCommentsContent({...commentsContent,...commentsText});\n\n   }).catch(err=>{\n     setFetchedUserPosts({\n       status:500,\n       data:[]\n     })\n   })\n } else{\n\n   ContextAppData.setLoggedIn(false);\n   ContextAppData.setIsLoading(true);\n }\n}\n\n\nconst fetchUser = (id,token)=>{\n    axios({\n      method:'GET',\n      url:FETCH_USER_URL(id),\n      headers:{\n        'Authorization':`Bearer ${token}`\n      }\n    }).then((resp)=>{\n      if(resp.status == 200)\n      {\n        const isFollowed = resp.data.followers.find(us=>us.username == ContextAppData.user.username)!=undefined;\n        setIsUserFollowed(isFollowed);\n        setFetchedUser(resp.data);\n        fetchPosts(id);\n      } else {\n        const obj = {\n          fetched : false\n        }\n        setFetchedUser(obj);\n      }\n    }).catch(err=>{\n      console.log(err);\n    })\n  }\n\nconst handleFollowUser = ()=>{\n    setIsUserFollowed(true);\n    const {token} = getStoredTokens();\n    axios({\n      url:FOLLOW_USER(fetchedUser._id),\n      method:'put',\n      headers:{\n        'Authorization':`Bearer ${token}`\n      }\n    }).then(resp=>{\n\n    }).catch(err=>{\n      console.log(err);\n    })\n}\n\nconst handleUnfollowUser = ()=>{\n   setIsUserFollowed(false);\n   const {token} = getStoredTokens();\n   axios({\n     url:UNFOLLOW_USER(fetchedUser._id),\n     method:'put',\n     headers:{\n       'Authorization':`Bearer ${token}`\n     }\n   }).then(resp=>{\n\n   }).catch(err=>{\n     console.log(err);\n   })\n}\n\nconst handleChangeCommInpVal = (evt,postId)=>{\n  const commentTextData = {};\n  commentTextData[postId] = evt.target.value;\n  setCommentsContent({...commentsContent,...commentTextData});\n\n}\n\nconst createConversation = ()=>{\n\n  history.push()\n  const {token} = getStoredTokens();\n\n\n  const foundPers = ContextAppData.user.conversationsParteners.find(usr=> usr.id == fetchedUser._id);\n  console.log(foundPers);\n  if(!foundPers || ContextAppData.user.conversationsParteners.length == 0)\n  {\n\n    axios({\n      method:'post',\n      url:CREATE_CONVERSATION,\n      headers:{\n        'Authorization':`Bearer ${token}`\n      },\n      data:{\n        userId:fetchedUser._id\n      }\n    }).then(resp=>{\n\n      history.push('/user/messages');\n      window.location.reload();\n\n    }).catch(err=>{\n        history.push('/user/messages');\n        alert(\"Error while creating conversation\");\n      console.log(err);\n    })\n\n  }\n  else{\n     history.push('/user/messages');\n  }\n\n\n\n  fetch('http://localhost:8000/api/message/create_conversation',{\n    method:'post',\n    headers:{\n      'Authorization':`Bearer ${token}`\n    },\n    body:JSON.stringify({\n      userId:'6163fbc60a32462f4c5ed9ce'\n    })\n  }).then(resp=>{\n    console.log('The request was made!!!')\n    console.log(resp);\n  }).catch(err=>{\n    console.log(err);\n  })\n\n}\n\nconst handleStartConv = (personId)=>{\n  console.log(personId);\n\n}\n\nuseEffect(()=>{\n\n  const params = new URLSearchParams(location.search);\n  const id = params.get('id');\n  const {token} = getStoredTokens();\n  if(token && id)\n  {\n    if(id == ContextAppData.user._id)\n    {\n      setFetchedUser(ContextAppData.user);\n      fetchPosts(ContextAppData.user._id);\n      setDisplayUserInteract(false);\n    }\n    else\n    {\n      setDisplayUserInteract(true);\n      fetchUser(id,token);\n    }\n  } else {\n    if(!token)\n    {\n      ContextAppData.setLoggedIn(false);\n      ContextAppData.setIsLoading(true);\n      clearCookies()\n    }\n  }\n},[location]);\n\n\n\n\nif(!_.isEmpty(fetchedUser))\n  {\n      if(fetchedUser.fetched)\n        return (\n          <div style={{paddingTop:\"60px\"}}>\n            <NotFound/>\n          </div>\n        )\n      else\n        return(\n          <div>\n            <div className=\"main-content-profile\" >\n              <div className=\"profile-data-container\" >\n                <img className=\"profile-background-image\"  src={`data:image/jpeg;base64,${fetchedUser.coverPicture}`} alt=\"bkg image\"/>\n                <img className=\"person-avatar-profile\" src={`data:image/jpeg;base64,${fetchedUser.profilePicture}`} />\n                <p className=\"username\">{fetchedUser.username}</p>\n                <p className=\"user-desc\">{fetchedUser.description}</p>\n            {\n              displayUserInteract &&\n\n                <div className=\"user-contact\">\n                  <p className=\"user-contact-action\" >\n\n              {isUserFollowed? <div className=\"hover-mouse\" onClick={handleUnfollowUser}>\n                  <FontAwesomeIcon icon = {faUserCheck} style={{\"color\":\"#6600ff\"}} className = \"user-action-icon\"/>\n                  <span className=\"user-action-icon-label\">Unfollow</span>\n                </div>\n                  :\n                <div onClick={handleFollowUser} className=\"hover-mouse\">\n                  <FontAwesomeIcon icon = {faUserPlus} className = \"user-action-icon\"/>\n                  <span className=\"user-action-icon-label\">Follow</span>\n                </div>\n                }\n                  </p>\n                  <p className=\"user-contact-action\"  onClick={handleStartConv(fetchedUser._id)}>\n                  <FontAwesomeIcon icon = {faCommentAlt} className = \"user-action-icon\"/>\n                  <span className=\"user-action-icon-label\" onClick={()=>{createConversation()}} className=\"link-decoration\">&nbsp; Messages</span>\n                  </p>\n                </div>\n            }\n\n             </div>\n             <div className=\"user-heading-container\">\n                 <div className=\"profile-info no-form\">\n                   <p className=\"profile-info-title\">User Description</p>\n                   <p className=\"profile-info-item\"> <FontAwesomeIcon icon={faHome} className=\"profile-description-icon\"/>From:</p><span>{fetchedUser.from}</span>\n                   <p className=\"profile-info-item\"><FontAwesomeIcon icon={faCity} className=\"profile-description-icon\"/>Lives in:</p><span>{fetchedUser.livesIn}</span>\n                   <p className=\"profile-info-item\"><FontAwesomeIcon icon={faHeart} className=\"profile-description-icon\"/>Relationship Status:</p>\n                   {\n                     (() => {\n                       switch (fetchedUser.relationship) {\n                         case 0:\n                           return (<span></span>);\n                           break;\n                         case 1:\n                           return (<span>Married</span>);\n                           break;\n                         case 2:\n                           return (<span>Single</span>);\n                           break;\n                         case 3:\n                           return (<span>In a relationship</span>);\n                           break;\n                         default:\n\n                       }\n                     })()\n\n                   }\n                   <p className=\"profile-info-item\"><FontAwesomeIcon icon={faGraduationCap} className=\"profile-description-icon\"/>Studied at:</p><span>{fetchedUser.education}</span>\n                 </div>\n             </div>\n             {/*Posts*/}\n             {console.log(\"post are :\",fetchedUserPosts)}\n             {fetchedUserPosts.data ?\n             fetchedUserPosts.data.map((post)=>{\n               return(\n                 <div className=\"user-posts-container \">\n                       <div className={displayUserInteract? \"profile-post-container \":\" profile-post-container  \"}>\n                         <div className=\"header\">\n                             <img src={`data:image/jpeg;base64,${post.postHolder.profilePicture}`} className=\"person-avatar-online\"/>\n                             <p className=\"post-username\">{post.postHolder.name}</p>\n                            </div>\n                            <div className=\"post-body\">\n                              <p className=\"description\">\n                                {post.desc}\n                              </p>\n                            <div>\n                            {post.img &&  <img src={`data:image/jpeg;base64,${post.img}`} alt=\"post-image\" className=\"post-image\"/>}\n                            </div>\n                             <div className=\"post-feedback-section\">\n                                <div><FontAwesomeIcon icon={faThumbsUp} style={{cursor:'pointer'}} onClick={()=>{handleLike(post._id)}} className={postLiked[post._id]?\"icon-container like post-elem-clicked\":\"icon-container\"}/><span style={{marginLeft:'20px'}}>{post.likes.length}</span></div>\n                                <FontAwesomeIcon icon={faComment} style={{cursor:'pointer'}} onClick={()=>{handleToggleComm(post._id)}} className={commentDisplay[post._id]?\"icon-container like post-elem-clicked\":\"icon-container\"}/>\n                             </div>\n                            </div>\n\n                            <div className={commentDisplay[post._id]? \"post-comment-section\" : \"post-comment-section not-display\"}>\n                               <TextField\n                               id=\"outlined-multiline-static\"\n                               label=\"Add comment\"\n                               multiline\n                               style={{width:\"80%\"}}\n                               rows={2}\n                               defaultValue=\"\"\n                               value = {commentsContent[post._id]}\n                               onChange = {(evt)=>{handleChangeCommInpVal(evt,post._id)}}\n                                />\n\n                              <Button variant=\"contained\" onClick={(evt)=>{const passData = commentsContent[post._id]; ContextAppData.handlePostComment(evt,post._id,setFetchedUserPosts,fetchedUserPosts,passData,setCommentsContent,commentsContent)}} className=\"btn btn-post\" color=\"primary\">\n                                  Post\n                                </Button>\n                                <div className=\"previous-comments\">\n                                  {post.comments.map((postComm)=>{\n                                    return(\n                                      <div className=\"card-reply\">\n                                            <div className=\"card-reply-header\">\n                                              <img src={`data:image/jpeg;base64,${postComm.userPhoto}`} alt=\"person\" className=\"person-avatar question-card-reply-person-image\"/>\n                                              <p className=\"card-reply-username\">{postComm.username} said:</p>\n                                            </div>\n                                            <p className=\"card-reply-text-post\">{postComm.comment}</p>\n                                        </div>\n                                    )\n                                  })}\n\n                                </div>\n                            </div>\n                         </div>\n                       </div>\n                   )\n                })\n                     :\n                     <div className='loading-data-container'>\n                         <img src={LoadingDataGif} className='loading-data-gif'/>\n                         <p className='loading-text'>Loading posts...</p>\n                     </div>\n                 }\n             {/*Posts*/}\n             </div>\n          </div>\n         )\n  } else {\n    return(\n      <div style={{paddingTop:\"90px\"}}>\n        <Loading/>\n      </div>\n    )\n  }\n\n}\n\nexport default Profile;\n","export default __webpack_public_path__ + \"static/media/user-bkg.d12a236e.jpg\";","export default __webpack_public_path__ + \"static/media/people-socializing.fab80f02.jpg\";","export default __webpack_public_path__ + \"static/media/people-group.a1c76833.jpg\";","import React from \"react\";\nimport \"../Styles/About.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faHome} from '@fortawesome/free-solid-svg-icons';\nimport {Link} from \"react-router-dom\";\nimport People  from \"../images/people-socializing.jpg\";\nimport Group from \"../images/people-group.jpg\";\n\nconst About = ()=>{\n\n  return(\n    <div className=\"about-container\">\n     <Link to='/' className=\"about-back-home-btn\">\n     <FontAwesomeIcon icon={faHome} className=\"about-home-icon\"/>\n      Home\n     </Link>\n     <h1 className=\"about-title\">Do you want to try a new social media app?</h1>\n     <p className=\"about-desc\">Peach Pen offers you a fresh experience regarding using social media</p>\n     <p className=\"about-desc\">The reduced set of functionalities helps you enjoy the essence of social media</p>\n     <div className=\"about-photo-container\">\n        <img src={People} className=\"about-photo\" />\n     </div>\n     <h1 className=\"about-title\">Socializing has never been easier</h1>\n     <p className=\"about-desc\">Nowadays with the click of a button we can connect with our friends and family</p>\n     <div className=\"about-photo-container\">\n        <img src={Group} className=\"about-photo\" />\n     </div>\n       <h1 className=\"about-title\">More Info</h1>\n       <p className=\"about-desc small-font\">This app was written by Stanculescu Daniel. If you have more questions or you want to contact him you can do so at danystanculescu@gmail.com</p>\n    </div>\n  )\n}\n\nexport default About;\n","import React ,{useRef,useState,useContext,useEffect} from \"react\";\nimport \"../Styles/Messages.css\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faPaperPlane} from '@fortawesome/free-solid-svg-icons';\nimport {faUser} from '@fortawesome/free-solid-svg-icons';\nimport {faArrowLeft} from '@fortawesome/free-solid-svg-icons';\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\nimport {faEdit}from '@fortawesome/free-solid-svg-icons';\nimport {AppContext} from \"../Context/AppContext\";\nimport Loading from \"./Loading.js\";\n\nconst ConversationBox = (props)=>{\n\nconst myAppContext = useContext(AppContext);\nconst messageField = useRef(null);\nconst [msgToSend,setMsgToSend] = useState(\"\");\nconst [isEmpty,setIsEmpty] = useState(true);\n// const [messages,setMessages] = useState([{\n//   sender:'61858510dc2f942b47c2837d',\n//   content:'Salutare frate,montana pe vlog',\n//   conversationId:'32ewqedw34243sd432'\n// },\n// {\n//   sender:'61858510dc2f942b47c2837d',\n//   content:'Ce mai faci omule? Cum mai esti?',\n//   conversationId:'32ewqedw34243sd432'\n// },\n// {\n//   sender:'61858510dc2f942b4762837d',\n//   content:'Salut! Eu sunt bine!',\n//   conversationId:'32ewqedw34243sd432'\n// }\n// ]);\n\nconst handleChange=(el)=>{\n   if(el.target.value.length>0)\n   {\n     setIsEmpty(false);\n   } else {\n     setIsEmpty(true);\n   }\n   setMsgToSend(el.target.value);\n}\n\nconst handleSend = ()=>{\n\n\n  if(!isEmpty)\n  {\n\n    props.sendMsg.emit(\"send-message\",msgToSend,props.convInd,myAppContext.user._id,props.messageRecipient);\n    setMsgToSend(\"\");\n    setIsEmpty(true);\n    const msgData = {\n      sender:myAppContext.user._id,\n      content:msgToSend,\n      conversationId:props.convInd,\n    };\n    const oldMessages = [...props.messages];\n    oldMessages.push(msgData);\n    console.log(\"I am here!\");\n    props.divRef.current.scrollIntoView({ behavior: 'smooth' });\n    props.setMessages(oldMessages);\n  }\n}\n\nuseEffect(()=>{\n\n},[]);\n\n\nif(!props.isLoading)\n{\n  return(\n    <>\n    <div className=\"msg-texts-container\">\n\n      {\n        props.messages.length>0 && props.messages.map((msg)=>{\n          if(msg.sender == myAppContext.user._id)\n          {\n            return(\n            <div className=\"box3 sb13\">\n              <p className=\"msg-text\">{msg.content}</p>\n            </div>);\n          } else {\n            return(\n              <div className=\"sb14 box3 answer\">\n                <p className=\"msg-text\">{msg.content}</p>\n              </div>\n            )\n          }\n      })\n    }\n\n      </div>\n      <div ref={props.divRef}>\n      </div>\n      <form className=\"msg-form\" onSubmit={(el)=>{el.preventDefault()}} noValidate autoComplete=\"off\">\n          <TextField ref={messageField} value={msgToSend} id=\"outlined-basic\" onChange={handleChange} label=\"Send a message\" variant=\"outlined\" className=\"msg-input\"/>\n          <FontAwesomeIcon onClick={handleSend} icon={faPaperPlane} className={isEmpty?\"msg-send-btn disabled-send\":\"msg-send-btn\"}/>\n      </form>\n\n    </>\n\n    );\n} else {\n\n  return <Loading/>\n}\n\n}\n\n\nexport default ConversationBox;\n","export default __webpack_public_path__ + \"static/media/notification.288f320a.mp3\";","import React ,{useEffect,useState,useContext,useRef} from \"react\"\nimport \"../Styles/Messages.css\";\nimport Person from \"../images/person.jpg\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faPaperPlane} from '@fortawesome/free-solid-svg-icons';\nimport {faUser} from '@fortawesome/free-solid-svg-icons';\nimport {faArrowLeft} from '@fortawesome/free-solid-svg-icons';\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\nimport {faEdit}from '@fortawesome/free-solid-svg-icons';\nimport {AppContext} from \"../Context/AppContext\";\nimport ConversationBox from \"./ConversationBox.js\";\nimport {io} from \"socket.io-client\";\nimport {SOCKET_URL,GET_MESSAGES} from \"../Endpoints/API_ENDPOINTS\";\nimport {getStoredTokens} from \"../utility-functions/utility-functions.js\";\nimport useSound from 'use-sound';\nimport notificationSound from \"../media/audio/notification.mp3\";\nimport axios from 'axios';\n\nconst Messages = ()=>{\n\n  const divRef = useRef(null);\n  const [socket,setSocket]=useState(null);\n  const [mobileView,setMobileView] = useState(false);\n  const [toggled,setToggled] = useState(false);\n  const [isLoading,setIsLoading] = useState(false);\n  const [currentConvIndex,setCurrentConvIndex] = useState(0);\n  const [messages,setMessages] = useState([]);\n  const [currentConvBtn,setCurrentConvBtn] = useState(null);\n  const [cvIndex,setCvIndex] = useState(0);\n  const [firstClicked,setFirstClicked] = useState(false);\n  const [messageRecipient,setMessageRecipient] = useState(null);\n  const [notificationBeep] = useSound(notificationSound,{volume:0.25});\n\n\n  const myFunction = ()=>{\n    if(window.innerWidth<1000)\n    {\n          setMobileView(true);\n          setToggled(false);\n    } else{\n      setMobileView(false);\n      setToggled(true);\n    }\n  }\n\n  const AppCtx = useContext(AppContext);\n\n  const handlePersonsListToggle = ()=>{\n    setToggled(!toggled);\n  }\n  useEffect(()=>{\n\n    const {token} = getStoredTokens();\n    const mySocket = io(SOCKET_URL,{\n       \"query\":token\n     });\n\n     AppCtx.setGlobalSocket(mySocket);\n\n    mySocket.on('connect',()=>{\n      console.log(`You connected with ${mySocket.id}`);\n     })\n     let emitted = 0;\n     mySocket.on('error',()=>{\n       if(!emitted)\n       {\n         alert(\"There was an error connecting to the server! Logout and Login back!!\");\n         emitted = 1;\n       }\n     })\n\n\n    setSocket(mySocket);\n\n    mySocket.on('sended-message',(mObj)=>{\n    \n      notificationBeep();\n      if(mObj.conversationId==AppCtx.user.conversations[currentConvIndex])\n      {\n        setMessages(oldArr=>[...oldArr,mObj]);\n        divRef.current.scrollIntoView({ behavior: 'smooth' });\n      }\n    })\n\n\n\n    myFunction();\n    window.addEventListener(\"resize\",myFunction);\n    return ()=>{\n      window.removeEventListener(\"resize\",myFunction);\n    }\n  },[]);\n\n  const handleConversationChange = (evt,cvInd,recipient)=>{\n    setFirstClicked(true);\n    setIsLoading(true);\n    console.log(recipient)\n    setMessageRecipient(recipient.id);\n     // evt.currentTarget;\n    if(currentConvBtn!=null)\n    {\n      currentConvBtn.classList.remove(\"conversation-selected\");\n    }\n\n    evt.currentTarget.classList.add(\"conversation-selected\");\n    setCurrentConvBtn(evt.currentTarget);\n    setCurrentConvIndex(cvInd);\n    setCvIndex(AppCtx.user.conversations[currentConvIndex]);\n    ///aici tragi messajele\n    ///si setezi si asta isLoading la true\n\n    const {token} = getStoredTokens();\n    axios.get(GET_MESSAGES,{\n      headers:{\n       Authorization:`Bearer ${token}`,\n       cvId: AppCtx.user.conversations[currentConvIndex]\n      }\n    }).then(resp=>{\n      setMessages(...[resp.data]);\n      setIsLoading(false);\n    }).catch(err=>{\n      setIsLoading(false);\n      console.log(err);\n    })\n\n  }\n\n  return(\n    <div className=\"msg-container\">\n\n    {toggled &&  <div className={mobileView? \"msg-left-nav-mobile\":\"msg-left-nav\"}>\n        <div className=\"msg-left-close\">\n          <FontAwesomeIcon icon={faTimes} className=\"msg-left-close-btn\" onClick={handlePersonsListToggle}/>\n        </div>\n      <p className=\"msg-header\">Messages</p>\n\n        {AppCtx.user.conversationsParteners.map((usr,index)=>{\n\n          return(\n             <button onClick={(evt)=>{handleConversationChange(evt,index,usr)}}  className=\"toggle-conv-container-btn\">\n             <span className=\"not-display\">{index}</span>\n            <div className=\"msg-person-container\">\n               <img src={`data:image/jpeg;base64,${usr.profilePicture}`}  className=\"msg-person-image\"/>\n               <p className=\"msg-person-name\">{usr.username}</p>\n            </div>\n            </button>\n          )\n        })}\n      </div> }\n\n      <div className=\"msg-right-nav\">\n\n    {!toggled && mobileView && <button onClick={handlePersonsListToggle} className={mobileView?\"toggle-pers-list\":\"not-displayed\"}> <FontAwesomeIcon icon={faArrowLeft} style={{marginRight:\"10\"}}/>See persons <FontAwesomeIcon icon={faUser}/> </button>}\n  {firstClicked && <ConversationBox divRef={divRef} setMessages={setMessages} convInd={cvIndex} personId={AppCtx.user._id} messages={messages} setIsLoading={setIsLoading} isLoading={isLoading} sendMsg={socket} messageRecipient={messageRecipient}/>}\n\n      </div>\n    </div>\n  )\n\n}\n\nexport default Messages;\n","import React from \"react\";\nimport \"../Styles/Questions.css\";\nimport Person from \"../images/person.jpg\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faPhotoVideo} from '@fortawesome/free-solid-svg-icons';\nimport {faTags} from '@fortawesome/free-solid-svg-icons';\nimport Button from '@material-ui/core/Button';\nimport {faLocationArrow} from '@fortawesome/free-solid-svg-icons';\nimport {faQuestionCircle} from '@fortawesome/free-solid-svg-icons';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n}));\n\n\nconst Questions = ()=>{\n\n  const classes = useStyles();\n\n  return(\n    <div className=\"questions-container\">\n      <div className=\"post-card questions-main-container\">\n        <div className=\"form-container questions-form\">\n       <div className=\"person-avatar-container\">\n         <img src={Person} alt=\"person\" className=\"person-avatar\"/>\n       </div>\n\n        <form className={`${classes.root} text-input questions-form`} noValidate autoComplete=\"off\">\n          <TextField\n           id=\"outlined-multiline-static\"\n           label=\"What questions do you have?\"\n           multiline\n           style={{width:\"80%\"}}\n           rows={2}\n           defaultValue=\"\"\n           />\n        <div className=\"media-type-container\">\n\n          <Button variant=\"contained\" className=\"btn\" color=\"primary\">\n            Ask!\n          </Button>\n        </div>\n        </form>\n\n       </div>\n      </div>\n\n      <div className=\"questions-cards-container\">\n        <div className=\"question-card-header\">\n          <img src={Person} alt=\"person\" className=\"person-avatar question-card-person-image\"/>\n          <p className=\"question-person-name-header\">Person name asked <FontAwesomeIcon icon={faQuestionCircle}/></p>\n        </div>\n        <div className=\"question-card-body\">\n          <p className=\"question-text\">Caini zboara? Si pot sa ii dau catelului meu Wiskey? Se va transforma in pisica daca fac asta?</p>\n        </div>\n        <div className=\"questions-replies-sections\">\n          <p className=\"question-card-replies-title\">Replies(1):</p>\n\n            <div className=\"questions-reply-container\">\n              <TextField id=\"outlined-basic\" label=\"Reply\" variant=\"outlined\" className=\"msg-input\"/>\n              <Button variant=\"contained\" className=\"btn question-btn-post-reply\" color=\"primary\">\n                Post Reply!\n              </Button>\n            </div>\n\n          <div className=\"card-reply\">\n              <div className=\"card-reply-header\">\n                <img src={Person} alt=\"person\" className=\"person-avatar question-card-reply-person-image\"/>\n                <p className=\"card-reply-username\">Person name said:</p>\n              </div>\n              <p className=\"question-card-reply-text\">Eu sincer nu cred ca merg lucrurile asa cum spui tu, se poate sa gasesti o solutie mai buna</p>\n          </div>\n\n          <div className=\"card-reply\">\n              <div className=\"card-reply-header\">\n                <img src={Person} alt=\"person\" className=\"person-avatar question-card-reply-person-image\"/>\n                <p className=\"card-reply-username\">Person name said:</p>\n              </div>\n              <p className=\"question-card-reply-text\">Eu sincer nu cred ca merg lucrurile asa cum spui tu, se poate sa gasesti o solutie mai buna</p>\n          </div>\n\n       </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Questions;\n","import React,{useRef,useState,useContext,useEffect} from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faUserCog} from '@fortawesome/free-solid-svg-icons';\nimport {faImages} from '@fortawesome/free-solid-svg-icons';\nimport \"../Styles/Settings.css\";\nimport Post from \"../images/dummy-post.jpg\";\nimport Button from '@material-ui/core/Button';\nimport userProfilePhoto from \"../images/person.jpg\";\nimport TextField from '@material-ui/core/TextField';\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from 'react-country-region-selector';\nimport {AppContext} from \"../Context/AppContext\";\nimport {UPDATE_USER,DELETE_TOKEN_URL} from \"../Endpoints/API_ENDPOINTS\";\nimport axios from \"axios\";\nimport Loading from \"./Loading\";\nimport {isTokenExpired,clearCookies,getStoredTokens} from \"../utility-functions/utility-functions\";\nimport { useHistory } from \"react-router-dom\";\n\nconst _ = require(\"lodash\");\n\nconst Settings = ()=>{\n\nconst history = useHistory();\nconst [countryFrom,setCountryFrom] = useState(\"\");\nconst [regionFrom,setRegionFrom] = useState(\"\");\nconst [countryLives,setCountryLives] = useState(\"\");\nconst [regionLives,setRegionLives] = useState(\"\");\nconst [username,setUsername] = useState(\"\");\nconst [description,setDescription] = useState(\"\");\nconst [coverPictureErr, setCoverPictureErr] = useState(false);\nconst [profilePictureErr, setProfilePictureErr] = useState(false);\nconst [successProfileImg,setSuccessProfileImg] = useState(false);\nconst [successCoverImg,setSuccessCoverImg] = useState(false);\nconst [password,setPassword] = useState(\"\");\nconst [repeatPassword,setRepeatPassword] = useState(\"\");\nconst [passMatch,setPassMatch] = useState(false);\nconst [profileImageUploaded,setProfileImageUploaded] = useState(false);\nconst [coverImageUploaded,setCoverImageUploaded] = useState(false);\nconst [coverImageObj,setCoverImageObj] = useState({});\nconst [profileImageObj,setProfileImageObj] = useState({});\nconst [usernameSuccess,setUsernameSuccess] = useState(false);\nconst [passwordSuccess,setPasswordSuccess] = useState(false);\nconst [descriptionSuccess,setDescriptionSuccess] = useState(false);\nconst [fromSuccess,setFromSuccess] = useState(false);\nconst [livesSuccess,setLivesSuccess] = useState(false);\nconst [usernameEmpty,setUsernameEmpty] = useState(false);\nconst [relationshipStatus,setRelationShipStatus] = useState(\"\");\nconst [education,setEducation] = useState(\"\");\nconst [relationshipStatusSuccess,setRelationshipStatusSuccess] = useState(false);\nconst [educationSuccess,setEducationSuccess] = useState(false);\nconst [confirmDelete, setConfirmDelete] = useState(false);\n\nconst ContextApp = useContext(AppContext);\nconst inputFile = useRef(null);\nconst hiddenCoverPhotoInput = useRef(null);\nconst hiddenProfilePhotoInput = useRef(null);\nconst coverPhotoImage = useRef(null);\nconst profilePhotoImage = useRef(null);\nconst usernameRef = useRef(null);\nconst passwordRef = useRef(null);\nconst descriptionRef = useRef(null);\n\n\n\nconst handleCoverPhotoInput = (evt)=>{\n  setSuccessCoverImg(false);\n  hiddenCoverPhotoInput.current.click();\n}\n\nconst handleProfilePhotoInput = (evt)=>{\n\n  setSuccessProfileImg(false);\n  hiddenProfilePhotoInput.current.click()\n}\n\nconst handleUpdateReq = (obj,success)=>\n{\n\n  const userUpdateURL = UPDATE_USER(ContextApp.user._id);\n  const {token} = getStoredTokens();\n  obj.userId = ContextApp.user._id;\n\n\n if(token != '')\n {\n     axios({\n       url:userUpdateURL,\n       method:'put',\n       data:obj,\n       headers:{\n         'Authorization':`Bearer ${token}`,\n         'Content-Type':'application/json'\n       }\n     }).then(resp=>{\n      console.log(resp);\n\n      if( resp.status && resp.status == 200)\n      {\n         success(true);\n         const newUser = ContextApp.user;\n         newUser[Object.keys(obj)[0]] = obj[Object.keys(obj)[0]];\n         ContextApp.setUser(newUser);\n      }\n      else{\n        if(isTokenExpired(token))\n        {\n          ContextApp.refreshToken(token);\n          return;\n        }\n        alert(\"Error while updating! Try again later!\")\n      }\n     }).catch(err=>{\n       if(isTokenExpired(token))\n       {\n         console.log('Token was expired!');\n         ContextApp.refreshToken(token);\n         return;\n       }\n       console.log(err);\n       alert(\"Server Error\");\n     })\n } else {\n    clearCookies();\n    history.push('/');\n }\n\n}\n\nconst handleSetUsername = (txt)=>{\n    setUsernameSuccess(false);\n    const val = txt.target.value;\n    if(val.length == 0)\n      setUsernameEmpty(true);\n    else\n      setUsernameEmpty(false);\n    setUsername(val);\n}\n\nconst handleDescription = (txt)=>{\n  setDescriptionSuccess(false);\n  const val = txt.target.value;\n  setDescription(val);\n}\n\nconst selectCountryFrom = (val)=> {\n  setFromSuccess(false);\n  setCountryFrom(val);\n}\n\nconst selectRegionFrom = (val)=>{\n  setFromSuccess(false);\n  setRegionFrom(val);\n}\n\nconst selectCountryLives = (val)=> {\n  setLivesSuccess(false);\n  setCountryLives(val);\n}\n\nconst selectRegionLives = (val)=>{\n  setLivesSuccess(false);\n  setRegionLives(val);\n}\n\n\nfunction imageSize(url) {\n    const img = document.createElement(\"img\");\n\n    const promise = new Promise((resolve, reject) => {\n      img.onload = () => {\n        const width  = img.naturalWidth;\n        const height = img.naturalHeight;\n        resolve({width, height});\n      };\n      img.onerror = reject;\n    });\n    img.src = url;\n    return promise;\n}\n\n\nconst handleRepeatPass = (txt)=>{\n  const val = txt.target.value;\n  console.log(\"Val is:\",val);\n  console.log(\"password is:\",password);\n  if(val == password && val!='')\n  {\n    setPassMatch(true);\n  } else {\n    setPassMatch(false);\n  }\n\n   setRepeatPassword(val);\n}\n\nconst handlePassword = (txt)=>{\n    const val = txt.target.value;\n    if(val == repeatPassword && val!='')\n    {\n      setPassMatch(true);\n    } else {\n      setPassMatch(false);\n    }\n\n    setPassword(val);\n\n}\n\nconst handleCoverImageUpload = async(evt)=>{\n  if(evt.target.files[0]!=undefined)\n  {\n    setCoverPictureErr(false);\n    const file = evt.target.files[0];\n    const renderedData = URL.createObjectURL(file);\n    coverPhotoImage.current.src = renderedData;\n    const imageDimensions = await imageSize(renderedData);\n    const fileReader = new FileReader();\n    fileReader.readAsDataURL(file);\n    fileReader.onload = ev=>{\n      console.log(imageDimensions);\n      if(imageDimensions.width<imageDimensions.height || imageDimensions.width<1000)\n      {\n        setCoverPictureErr(true);\n\n      } else{\n        setCoverImageUploaded(true);\n        const obj = {\n          coverPicture:ev.target.result.split(\"base64,\")[1]\n        }\n        setCoverImageObj(obj);\n\n      }\n    }\n  }\n}\n\nconst handleUploadImage = (type)=>{\n\n  if(type == \"profile\")\n  {\n   if(!_.isEmpty(profileImageObj))\n   {\n      handleUpdateReq(profileImageObj,setSuccessProfileImg);\n   }\n\n  } else if(type == \"cover\"){\n    if(!_.isEmpty(coverImageObj))\n    {\n      handleUpdateReq(coverImageObj,setSuccessCoverImg);\n    }\n  }\n}\n\n\nconst handleProfileImageUpload = async (evt)=>{\n\n  if(evt.target.files[0]!=undefined)\n  {\n    setProfilePictureErr(false);\n    const file = evt.target.files[0];\n    const renderedData = URL.createObjectURL(file);\n    profilePhotoImage.current.src = renderedData;\n    const imageDimensions = await imageSize(renderedData);\n    const fileReader = new FileReader();\n    fileReader.readAsDataURL(file);\n    fileReader.onload = ev=>{\n      if(Math.abs(imageDimensions.width-imageDimensions.height)>=100)\n      {\n        setProfilePictureErr(true);\n\n      } else{\n        setProfileImageUploaded(true);\n        const obj = {\n          profilePicture:ev.target.result.split(\"base64,\")[1]\n        }\n        setProfileImageObj(obj);\n      }\n    }\n  }\n\n}\n\nconst data = ()=>{\n\n}\n\nconst handlePostData = (type)=>{\n    let obj;\n    if(type==\"username\")\n    {\n      obj = {\n        username:username\n      }\n    handleUpdateReq(obj,setUsernameSuccess)\n    } else if(type == \"password\")\n    {\n      obj = {\n        password:password\n      }\n      handleUpdateReq(obj,setPasswordSuccess);\n    } else if (type == \"description\")\n    {\n      obj = {\n        description:description\n      }\n      handleUpdateReq(obj,setDescriptionSuccess);\n    } else if (type == \"from\"){\n        if(countryFrom!='' && regionFrom!='')\n        {\n            const countryFromString=regionFrom+','+countryFrom;\n            obj = {\n              from:countryFromString\n            }\n            handleUpdateReq(obj,setFromSuccess);\n        }\n    } else if (type == \"livesIn\"){\n\n        if(countryLives!='' && regionLives!='')\n        {\n            const countryLivesString=regionLives+','+countryLives;\n            obj = {\n              livesIn:countryLivesString\n            }\n            handleUpdateReq(obj,setLivesSuccess);\n        }\n    } else if (type == \"relationship\")\n    {\n        obj = {\n          relationship:parseInt(relationshipStatus)\n        }\n        handleUpdateReq(obj,setRelationshipStatusSuccess);\n    } else if (type == \"education\")\n    {\n        obj = {\n          education:education\n        }\n        handleUpdateReq(obj,setEducationSuccess);\n    }\n}\n\nuseEffect(()=>{\n    if(ContextApp.user)\n    {\n      let fetchedUser = ContextApp.user;\n      setUsername(fetchedUser.username);\n      if(fetchedUser.description && fetchedUser.description!='')\n        setDescription(fetchedUser.description);\n      if(fetchedUser.from && fetchedUser.from!='')\n      {\n        let fromLocationFetched = fetchedUser.from.split(\",\");\n        setRegionFrom(fromLocationFetched[0]);\n        setCountryFrom(fromLocationFetched[1]);\n      }\n      if(fetchedUser.livesIn && fetchedUser.livesIn!='')\n      {\n        let livesInLocationFetched = fetchedUser.livesIn.split(\",\");\n        setRegionLives (livesInLocationFetched[0]);\n        setCountryLives (livesInLocationFetched[1]);\n      }\n      if(fetchedUser.relationship)\n      {\n\n         if(fetchedUser.relationship == 1 ||  fetchedUser.relationship == 2 || fetchedUser.relationship == 3  )\n         {\n            switch (fetchedUser.relationship) {\n              case 0:\n                setRelationShipStatus(\"0\");\n                break;\n              case 1:\n                setRelationShipStatus(\"1\");\n                break;\n              case 2:\n                setRelationShipStatus(\"2\");\n                break;\n              case 3:\n                setRelationShipStatus(\"3\");\n                break;\n            }\n         }\n        else\n         {\n           setRelationShipStatus(\"0\");\n         }\n\n      }\n      if(fetchedUser.education && fetchedUser.education!='')\n      {\n        setEducation(fetchedUser.education);\n      }\n    }\n\n},[ContextApp.user])\n\n\nconst handleRelationShipStatus = (evt)=>{\n      console.log(evt.target.value);\n      setRelationShipStatus(evt.target.value.toString());\n}\n\nconst handleEducation = (evt)=>{\n  setEducation(evt.target.value);\n}\n\nconst handleDeleteUser = ()=>{\n\n  // const history = useHistory();\n  //\n  //\n  //\n  //  if(document.cookie)\n  //  {\n  //    const refreshTk = document.cookie.split(\";\")[1].split(\"=\")[1];\n  //    clearCookies();\n  //\n  //    const reqData = {\n  //      token:refreshTk\n  //    }\n  //\n  //    axios({\n  //      method:'delete',\n  //      url:DELETE_TOKEN_URL,\n  //      data:reqData\n  //    }).then(resp=>{\n  //      console.log(resp);\n  //    }).catch(err=>{\n  //      console.log(err);\n  //    });\n  //  }\n  //\n  //\n  // history.push(\"/\");\n}\n\n if(ContextApp.user)\n {\n   console.log(\"Now I was fetched!\");\n   return(\n     <div className=\"settings-container\">\n        <div className=\"user-settings-header\">\n        <FontAwesomeIcon icon={faUserCog} className=\"settings-header-icon\" />\n          <h1 className=\"user-settings-header-title\">User Settings</h1>\n        </div>\n\n        <div className=\"settings-card\">\n          <h3>Cover Image</h3>\n           <img className=\"profile-background-image user-settings-bkg-img\" ref={coverPhotoImage} src={`data:image/jpeg;base64,${ContextApp.user.coverPicture}`}  alt=\"bkg image\"/>\n            <p className=\"sub-note\"><em>Note:</em> Image width must be greater than image height and width should be greater than 1000px</p>\n            {coverPictureErr &&  <p className=\"img-load-error\">Image DOES NOT RESPECT REQUIREMENTS ( SEE NOTE ABOVE)</p>}\n            {successCoverImg && <p className=\"load-success\">Image uploaded successfully!</p> }\n           <div className=\"settings-action-container\">\n\n             <button  onClick={handleCoverPhotoInput} className=\"browse-img-btn\">\n               <FontAwesomeIcon icon={faImages}  className=\"browse-img-icon\"/>\n                 <span className=\"browse-btn-text\"> Browse </span>\n             </button>\n             <input type=\"file\"  accept=\".jpg, .jpeg, .png\" ref={hiddenCoverPhotoInput} onChange={handleCoverImageUpload} style={{\"display\":\"none\"}}/>\n              {coverImageUploaded && <Button disabled={coverPictureErr} onClick={()=>{handleUploadImage(\"cover\")}} variant=\"contained\" className=\"btn\" color=\"primary\">\n               Save!\n             </Button>\n           }\n           </div>\n        </div>\n\n        <div className=\"settings-card\">\n          <h3>Profile Image</h3>\n         <img className=\"person-avatar-profile user-settings-person-main-photo\" ref={profilePhotoImage} src={`data:image/jpeg;base64,${ContextApp.user.profilePicture}`}/>\n          <div className=\"img-sub-msg\">\n            <p className=\"sub-note\" style={{marginBottom:\"0px\"}}><em>Note:</em> Image height and image width must be the same</p>\n            {profilePictureErr &&  <p style={{marginBottom:\"20px\"}} className=\"img-load-error\">Image DOES NOT RESPECT REQUIREMENTS ( SEE NOTE ABOVE)</p>}\n            {successProfileImg && <p className=\"load-success\">Image uploaded successfully!</p>}\n          </div>\n          <div className=\"settings-action-container user-main-image-btn\">\n           <button onClick={handleProfilePhotoInput} className=\"browse-img-btn\">\n             <FontAwesomeIcon icon={faImages} className=\"browse-img-icon\"/>\n              Browse\n           </button>\n           <input type=\"file\" ref={hiddenProfilePhotoInput} style={{\"display\":\"none\"}} onChange={handleProfileImageUpload}/>\n             {profileImageUploaded && <Button disabled={profilePictureErr} onClick={()=>{handleUploadImage(\"profile\")}}  variant=\"contained\" className=\"btn\" color=\"primary\">\n               Save!\n             </Button>}\n\n           </div>\n        </div>\n\n        <div className=\"settings-card\">\n         <h3>Username</h3>\n           <div className=\"change-name-input\">\n\n             <TextField\n              id=\"outlined-multiline-static\"\n              label=\"Profile Name\"\n              multiline\n              style={{width:\"80%\"}}\n              rows={2}\n              value={username}\n              onChange = {handleSetUsername}\n              ref = {usernameRef}\n              />\n              <Button variant=\"contained\" disabled={usernameEmpty} onClick={()=>{handlePostData(\"username\")}} className=\"btn\" color=\"primary\">\n                Change\n              </Button>\n           </div>\n          {usernameSuccess && <p className=\"load-success\">Username Updated successfully!</p> }\n        </div>\n\n\n      <div className=\"settings-card\">\n       <h3>Password</h3>\n         <div className=\"change-name-input\">\n                 <TextField\n                id=\"standard-password-input\"\n                label=\"Password\"\n                style={{width:\"80%\"}}\n                type=\"password\"\n                autoComplete=\"current-password\"\n                variant=\"standard\"\n                value={password}\n                onChange={handlePassword}\n              />\n              <div style={{marginTop:\"50px\"}}>\n                 <p className=\"repeat-pass-title\" style={{marginTop:\"10px\",marginBottom:\"20px\"}}>Repeat password:</p>\n                    <TextField\n                   id=\"standard-password-input\"\n                   label=\"Password\"\n                   style={{width:\"80%\"}}\n                   type=\"password\"\n                   autoComplete=\"current-password\"\n                   variant=\"standard\"\n                   value={repeatPassword}\n                   onChange={handleRepeatPass}\n                   />\n              </div>\n\n          <Button disabled={!passMatch} variant=\"contained\" onClick={()=>{handlePostData(\"password\")}} className=\"btn\" color=\"primary\" style={{marginTop:\"20px\"}}>\n            Change\n          </Button>\n       </div>\n         {passwordSuccess && <p className=\"load-success\">Password updated successfully!</p> }\n    </div>\n\n\n\n        <div className=\"settings-card\">\n         <h3>Description</h3>\n           <div className=\"change-name-input\">\n\n           <TextField\n            id=\"outlined-multiline-static\"\n            label=\"Profile Description\"\n            multiline\n            style={{width:\"80%\"}}\n            rows={2}\n            value={description}\n            onChange={handleDescription}\n            inputProps={\n                {maxLength: 50}\n              }\n           />\n              <Button variant=\"contained\" onClick={()=>{handlePostData(\"description\")}} className=\"btn\" color=\"primary\">\n                Change\n              </Button>\n           </div>\n             <p className=\"sub-note\" style={{marginBottom:\"0px\"}}><em>Note:</em> There is a maximum of 50 characters when writing a description!</p>\n           {descriptionSuccess && <p className=\"load-success\">Description updated successfully!</p> }\n        </div>\n\n        <div className=\"settings-card\">\n         <h3>From</h3>\n           <div className=\"change-name-input\">\n         <CountryDropdown\n           value={countryFrom}\n             onChange={(val) =>{selectCountryFrom(val)}} />\n           <RegionDropdown\n             country={countryFrom}\n             value={regionFrom}\n             onChange={(val) => {selectRegionFrom(val)}} />\n              <Button variant=\"contained\" className=\"btn btn-left-margin\"  onClick = {()=>{handlePostData(\"from\")}} color=\"primary\">\n                Change\n              </Button>\n           </div>\n             {fromSuccess && <p className=\"load-success\">Account was succesfully updated!</p> }\n        </div>\n        <div className=\"settings-card\">\n         <h3>Lives in</h3>\n           <div className=\"change-name-input\">\n         <CountryDropdown\n           value={countryLives}\n             onChange={(val) =>selectCountryLives(val)} />\n           <RegionDropdown\n             country={countryLives}\n             value={regionLives}\n             onChange={(val) => selectRegionLives(val)} />\n              <Button variant=\"contained\" onClick = {()=>{handlePostData(\"livesIn\")}} className=\"btn btn-left-margin\"  color=\"primary\">\n                Change\n              </Button>\n           </div>\n            {livesSuccess && <p className=\"load-success\">Account was succesfully updated!</p> }\n        </div>\n        <div className=\"settings-card\">\n         <h3>Relationship Status</h3>\n           <div className=\"change-name-input\">\n             <input type=\"text\"/>\n             <select className=\"settings-select-input\" value={relationshipStatus} onChange={handleRelationShipStatus} name=\"relationship-status\">\n              <option value=\"0\"></option>\n               <option value=\"1\">Married</option>\n               <option value=\"2\">Single</option>\n               <option value=\"3\">In a relationship</option>\n             </select>\n              <Button variant=\"contained\" className=\"btn\" onClick = {()=>{handlePostData(\"relationship\")}} color=\"primary\">\n                Change\n              </Button>\n           </div>\n           {relationshipStatusSuccess && <p className=\"load-success\">Account was succesfully updated!</p> }\n        </div>\n\n        <div className=\"settings-card\">\n         <h3>Studied at</h3>\n           <div className=\"change-name-input\">\n\n           <TextField\n            id=\"outlined-multiline-static\"\n            label=\"Where did you studied?\"\n            multiline\n            style={{width:\"80%\"}}\n            rows={2}\n            value={education}\n            onChange = {handleEducation}\n            />\n              <Button variant=\"contained\" onClick = {()=>{handlePostData(\"education\")}} className=\"btn\" color=\"primary\">\n                Change\n              </Button>\n           </div>\n            {educationSuccess && <p className=\"load-success\">Account was succesfully updated!</p> }\n        </div>\n\n\n\n     </div>\n   )\n\n } else {\n   return (<Loading/>);\n }\n\n\n}\n\nexport default Settings;\n","import React from \"react\";\nimport {mainImage} from '../images/login.jpg';\nimport \"../Styles/login.css\";\nimport {Link} from 'react-router-dom';\nimport {faUserLock} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Success = ()=>{\n\n  return(\n    <div className=\"limiter\">\n      <div className=\"container-login100\" >\n        <div className=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54\">\n          <p className=\"succesful-login-text\">Successful register!</p>\n          <Link className=\"back-login-btn\" to='/login'>Back to login <FontAwesomeIcon icon={faUserLock}/> </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Success;\n","import React,{useEffect,useState} from \"react\";\nimport Loading from \"./Loading\";\nimport Person from \"../images/person.jpg\";\nimport \"../Styles/Search.css\";\nimport {SEARCH_USER} from '../Endpoints/API_ENDPOINTS';\nimport axios from 'axios';\nimport {getStoredTokens} from '../utility-functions/utility-functions.js';\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {Link} from 'react-router-dom';\n\nconst Search =(params)=>{\n\n  const [dataIsLoading,setDataIsLoading] = useState(true);\n  const [fetchedUsers,setFetchedUsers] = useState([]);\n\n  const handleSearch = (toSearch)=>{\n    setDataIsLoading(true);\n    const {token} = getStoredTokens();\n    setFetchedUsers([]);\n    axios({\n      method:'post',\n      url:SEARCH_USER,\n      headers:{\n        'Authorization':`Bearer ${token}`\n      },\n      data:{\n        searchData:toSearch\n      }\n    }).then(result=>{\n      console.log('Result of post req is:',result);\n      if(result.status == 200)\n      {\n        setFetchedUsers(result.data);\n      }\n      setDataIsLoading(false);\n    }).catch(err=>{\n      console.log(err);\n    })\n  }\n\n  useEffect(()=>{\n    const parameters = new URLSearchParams(params.data.search);\n    const query = parameters.get('q');\n    handleSearch(query);\n  },[params.data])\n\n  return(\n    <div>\n      {\n        dataIsLoading?\n        <div style={{paddingTop:'50px'}}>\n          <Loading />\n        </div>\n        :\n\n        <div style={{paddingTop:'90px'}}>\n\n          {fetchedUsers.length >0?\n\n            fetchedUsers.map((user,id)=>{\n              console.log(user)\n                return(\n                  <div className='cards-container' style={{marginTop:'30px'}} key = {id}>\n                    <Link style={{textDecoration:'none'}} to={`/user/profile/?id=${user._id}`}>\n                      <div className='search-card-container'>\n                       <div className='search-card-header'>\n                           <img src={`data:image/jpeg;base64,${user.profilePicture}`} alt='person-icon' className=\"person-avatar-online person-search\"/>\n                           <p className='search-result-name'>{user.username}</p>\n                        </div>\n                      </div>\n                    </Link>\n\n                  </div>\n                )\n            })\n\n            :\n            <div className='no-found-label'>\n                <p className=\"no-found-text\">No user found!</p>\n                <FontAwesomeIcon className=\"no-found-text\" icon={faSearch} />\n            </div>\n          }\n       </div>\n      }\n    </div>\n  )\n\n}\n\nexport default Search;\n","import logo from './logo.svg';\nimport './App.css';\nimport {BrowserRouter as Router, Route,Switch,withRouter} from 'react-router-dom';\nimport Login from './Components/Login.js';\nimport Loading from './Components/Loading.js';\nimport Home from './Components/Home.js';\nimport Navbar from './Components/Navbar.js';\nimport SignUp from './Components/SignUp.js';\nimport MainPage from './Components/MainPage.js';\nimport FeedNavbar from './Components/FeedNavbar.js';\nimport Test from \"./Components/Test.js\";\nimport PageNotFound from './Components/PageNotFound.js';\nimport Profile from \"./Components/Profile.js\";\nimport About from \"./Components/About.js\";\nimport Messages from \"./Components/Messages.js\";\nimport Questions from \"./Components/Questions.js\";\nimport Settings from \"./Components/Settings.js\";\nimport Success from \"./Components/Success.js\";\nimport Search from \"./Components/Search.js\";\nimport {AppContext} from \"./Context/AppContext\";\nimport React , {useContext,useEffect, useState} from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {CHECK_TOKEN_URL,GET_USER_URL,REFRESH_TOKEN_URL,ADD_COMMENT,FEED_POSTS,SEARCH_USER,SOCKET_URL} from \"./Endpoints/API_ENDPOINTS\";\nimport { useHistory } from \"react-router-dom\";\nimport {useSetLoggedInTrue} from \"./utility-functions/useSetLogin\";\nimport jwt_decode from \"jwt-decode\";\nimport {clearCookies,isTokenExpired,getStoredTokens,setCookie,shuffle} from \"./utility-functions/utility-functions.js\";\nimport {io} from 'socket.io-client';\n\nconst _ = require(\"lodash\");\n\nconst UserRoutePages = ()=>{\n  return(\n   <Switch>\n     <Route exact path=\"/user/messages\" component={Messages}/>\n     <Route exact path='/user/feed' component={MainPage}/>\n     <Route exact path=\"/user/questions\" component={Questions}/>\n     <Route exact path=\"/user/settings\" component={Settings}/>\n     <Route path=\"/user/profile\" component={Profile}/>\n     <Route exact path=\"*\" component={PageNotFound}/>\n   </Switch>\n  )\n}\n\nconst SearchRoute = (params)=>{\n\n  return(\n    <>\n      <FeedNavbar/>\n      <Search data={params.location}/>\n    </>\n  )\n}\n\n\nconst AuthenticatedRoute = (props)=>{\n\n  if(props.loggedIn)\n  {\n    return(\n      <>\n       <FeedNavbar key=\"data\"/>\n       <UserRoutePages/>\n       </>)\n  } else {\n\n    return(\n      <Redirect to='/login'/>\n    )\n  }\n}\n\n\nconst App = ()=>{\n\nconst [loggedIn, setLoggedIn] = useState(false);\nlet [user,setUser] = useState({});\nconst [isLoading, setIsLoading] = useState(true);\nconst [userPosts,setUserPosts] = useState([]);\nconst [isLoadingPosts,setIsLoadingPosts] = useState(false);\nconst [feedPosts,setFeedPosts] = useState([]);\nconst [globalSocket,setGlobalSocket] = useState(null);\n\nconst  setCookie = (cName, cValue, expDays)=> {\n        let date = new Date();\n        date.setTime(date.getTime() + (expDays * 24 * 60 * 60 * 1000));\n        const expires = \"expires=\" + date.toUTCString();\n        document.cookie = cName + \"=\" + cValue + \"; \" + expires + \"; path=/\";\n}\n\nconst fetchFeedPosts = ()=>{\n\n  const {token} = getStoredTokens();\n\n  axios({\n    url:FEED_POSTS,\n    method:'get',\n    headers:{\n      'Authorization':`Bearer ${token}`\n    }\n  }).then(resp=>{\n    if(resp.status == 200)\n    {\n      const data_arr = shuffle(resp.data[0]);\n      setFeedPosts(data_arr);\n    }\n\n  }).catch(err=>{\n    console.log(err);\n  })\n}\n\n\nconst updateUserProperty = (userObj)=>{\n  setUser(userObj);\n}\n\nconst refreshTokenFunc = ()=>{\n  setIsLoading(true);\n  let {refreshToken} = getStoredTokens();\n  if(refreshToken != '')\n  {\n     axios.post(REFRESH_TOKEN_URL,{\n        token:refreshToken\n        }\n   ).then(resp=>{\n       if(resp.status == 200)\n       {\n         const d = new Date();\n         d.setTime(d.getTime()+1*60*60*60*1000);\n         let expires = \"expires=\"+d.toUTCString();\n         const newToken = resp.data.token;\n         setLoggedIn(true);\n         setCookie('token',newToken,1);\n         getUserAndSet(newToken);\n       } else{\n         clearCookies();\n         setLoggedIn(false);\n         setIsLoading(false);\n       }\n     }).catch(err=>{\n       console.log(err);\n      clearCookies();\n      setLoggedIn(false);\n      setTimeout(()=>{\n        setIsLoading(false);\n      },500);\n     })\n  } else {\n    clearCookies();\n    setLoggedIn(false);\n    setTimeout(()=>{\n      setIsLoading(false);\n    },500);\n  }\n}\n\nconst fetchUserPosts = ()=>{\n    const {token} = getStoredTokens();\n    if(token!='')\n    {\n      if(!isTokenExpired(token))\n      {\n        axios({\n          url:'http://localhost:8000/api/posts/getposts',\n          method:'post',\n          headers:{\n            'Authorization':`Bearer ${token}`\n          }\n        }).then(resp=>{\n\n          setUserPosts(resp);\n          setIsLoading(false);\n          setIsLoadingPosts(false);\n        }).catch(err=>{\n          setIsLoading(false);\n          setLoggedIn(false);\n          setIsLoadingPosts(false);\n        })\n\n      }\n    }\n\n    setIsLoading(false);\n    setIsLoadingPosts(false);\n}\n\nconst getUserAndSet = (myToken)=>{\n  const data = {\n    token : myToken\n  }\n\naxios({\n  url:GET_USER_URL,\n  method:'post',\n  headers:{\n    'Content-Type': 'application/json',\n    'Authorization':'Bearer '+myToken\n  },\n  data:data\n}).then(resp=>{\n  if(resp.status == 200)\n  {\n    setUser(resp.data.user);\n    setLoggedIn(true);\n\n    // /aici vom trage si postarile\n    fetchFeedPosts();\n    setIsLoadingPosts(true);\n    fetchUserPosts();\n  }\n}).catch(err=>{\n  console.log(err);\n  setTimeout(()=>{\n    setLoggedIn(true);\n    setIsLoading(false);\n  },1000);\n})\n\n}\n\nconst reloadDataAfterRefresh = ()=>{\n\n    let {token,refreshToken} = getStoredTokens();\n    token = token.trim();\n    refreshToken = refreshToken.trim();\n   if(token != '' && refreshToken != '')\n   {\n\n     fetch(CHECK_TOKEN_URL,{\n         method:\"POST\",\n         headers: {\"Content-type\": \"application/json;charset=UTF-8\"},\n         body:JSON.stringify({\n          token:token\n         })\n     }).then(resp=>{\n\n       if(resp.status == 200)\n       {\n         getUserAndSet(token);\n\n       } else {\n         if(isTokenExpired(token))\n         {\n           refreshTokenFunc();\n           return;\n         }\n         clearCookies();\n         setTimeout(()=>{\n           setLoggedIn(false);\n           setIsLoading(false);\n         },500);\n       }\n\n      }).catch(err=>{\n        if(isTokenExpired(token))\n        {\n          refreshTokenFunc();\n          return;\n        }\n         console.log(err);\n         clearCookies();\n         setLoggedIn(false);\n         setTimeout(()=>{\n           setIsLoading(false);\n         },500);\n      });\n   } else {\n     clearCookies();\n     setLoggedIn(false);\n     setTimeout(()=>{\n       setIsLoading(false);\n     },500);\n   }\n}\n\n\nconst updateUser = (user)=>{\n    setUser(user);\n}\n\nconst updateToken = (tk)=>{\n    data.token = tk;\n}\n\nconst updateRefreshToken = (tk)=>{\n    data.refreshToken = tk;\n}\n\nconst handlePostComment = (evt,postId,update,oldPosts,commentsData,resetData,beforeData) =>{\n\n     const {token} = getStoredTokens();\n     const newData = {};\n     newData[postId] = '';\n     resetData({...beforeData,...newData});\n    if(token)\n    {\n      axios({\n        url:ADD_COMMENT(postId),\n        method:'put',\n        headers:{\n          'Authorization':`Bearer ${token}`\n        },\n        data:{\n          comment:commentsData\n        }\n      }).then(resp=>{\n          if(resp.status == 200)\n          {\n                 const newPost = oldPosts.data.map((post)=>{\n                    if(post._id == postId)\n                    {\n                      post.comments.unshift({\n                        userId:user._id,\n                        comment:commentsData,\n                        userPhoto:user.profilePicture,\n                        username:user.username,\n                      })\n\n                    }\n                  return post;\n                 });\n                 update({...oldPosts,data:newPost});\n          }\n          else{\n            alert(\"Error while uploading post!\")\n          }\n      }).catch(err=>{\n        console.log(err);\n        alert(\"Error while uploading post!\")\n      })\n\n    } else if (isTokenExpired(token)){\n      refreshTokenFunc();\n    }\n  }\n\n  const data = {\n    user:user,\n    setUser:setUser,\n    token:'',\n    refreshToken:'',\n    setLoggedIn:setLoggedIn,\n    setIsLoading:setIsLoading,\n    isLoading:isLoading,\n    reload:reloadDataAfterRefresh,\n    updateUser:updateUser,\n    updateToken:updateToken,\n    updateRefreshToken:updateRefreshToken,\n    getUserAndSet:getUserAndSet,\n    refreshToken:refreshTokenFunc,\n    updateUserProperty:updateUserProperty,\n    userPosts:userPosts,\n    setUserPosts:setUserPosts,\n    isLoadingPosts:isLoadingPosts,\n    fetchUserPosts:fetchUserPosts,\n    handlePostComment:handlePostComment,\n    feedPosts:feedPosts,\n    fetchFeedPosts:fetchFeedPosts,\n    setGlobalSocket:setGlobalSocket,\n    globalSocket:globalSocket\n  }\n\nuseEffect(()=>{\n\n    reloadDataAfterRefresh();\n  },[]);\n\n\n if(isLoading)\n {\n   return(\n     <Loading/>\n   )\n } else {\n   return (\n     <div>\n     <Router>\n     <AppContext.Provider value={data}>\n         <Switch>\n         <Route exact path='/' component={Home}>\n           <Navbar/>\n           <Home/>\n         </Route>\n     <Route path=\"/user\" key=\"data\">\n         <AuthenticatedRoute loggedIn={loggedIn} />\n     </Route>\n       <Route exact path = \"/register-success\" component={Success}/>\n       <Route exact path='/login' component={Login} >\n       </Route>\n       <Route path='/signup' component={SignUp}>\n       </Route>\n       <Route path='/about' component={About}>\n       </Route>\n       <Route path='/search' component={SearchRoute}/>\n       <Route component={PageNotFound}/>\n       </Switch>\n       </AppContext.Provider>\n       </Router>\n     </div>\n   )\n }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}